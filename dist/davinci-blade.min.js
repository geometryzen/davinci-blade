!function(a,b){var c,d,b,e=a.define;!function(a){function e(a,b){return u.call(a,b)}function f(a,b){var c,d,e,f,g,h,i,j,k,l,m,n=b&&b.split("/"),o=s.map,p=o&&o["*"]||{};if(a&&"."===a.charAt(0))if(b){for(a=a.split("/"),g=a.length-1,s.nodeIdCompat&&w.test(a[g])&&(a[g]=a[g].replace(w,"")),a=n.slice(0,n.length-1).concat(a),k=0;k<a.length;k+=1)if(m=a[k],"."===m)a.splice(k,1),k-=1;else if(".."===m){if(1===k&&(".."===a[2]||".."===a[0]))break;k>0&&(a.splice(k-1,2),k-=2)}a=a.join("/")}else 0===a.indexOf("./")&&(a=a.substring(2));if((n||p)&&o){for(c=a.split("/"),k=c.length;k>0;k-=1){if(d=c.slice(0,k).join("/"),n)for(l=n.length;l>0;l-=1)if(e=o[n.slice(0,l).join("/")],e&&(e=e[d])){f=e,h=k;break}if(f)break;!i&&p&&p[d]&&(i=p[d],j=k)}!f&&i&&(f=i,h=j),f&&(c.splice(0,h,f),a=c.join("/"))}return a}function g(b,c){return function(){var d=v.call(arguments,0);return"string"!=typeof d[0]&&1===d.length&&d.push(null),n.apply(a,d.concat([b,c]))}}function h(a){return function(b){return f(b,a)}}function i(a){return function(b){q[a]=b}}function j(b){if(e(r,b)){var c=r[b];delete r[b],t[b]=!0,m.apply(a,c)}if(!e(q,b)&&!e(t,b))throw new Error("No "+b);return q[b]}function k(a){var b,c=a?a.indexOf("!"):-1;return c>-1&&(b=a.substring(0,c),a=a.substring(c+1,a.length)),[b,a]}function l(a){return function(){return s&&s.config&&s.config[a]||{}}}var m,n,o,p,q={},r={},s={},t={},u=Object.prototype.hasOwnProperty,v=[].slice,w=/\.js$/;o=function(a,b){var c,d=k(a),e=d[0];return a=d[1],e&&(e=f(e,b),c=j(e)),e?a=c&&c.normalize?c.normalize(a,h(b)):f(a,b):(a=f(a,b),d=k(a),e=d[0],a=d[1],e&&(c=j(e))),{f:e?e+"!"+a:a,n:a,pr:e,p:c}},p={require:function(a){return g(a)},exports:function(a){var b=q[a];return"undefined"!=typeof b?b:q[a]={}},module:function(a){return{id:a,uri:"",exports:q[a],config:l(a)}}},m=function(b,c,d,f){var h,k,l,m,n,s,u=[],v=typeof d;if(f=f||b,"undefined"===v||"function"===v){for(c=!c.length&&d.length?["require","exports","module"]:c,n=0;n<c.length;n+=1)if(m=o(c[n],f),k=m.f,"require"===k)u[n]=p.require(b);else if("exports"===k)u[n]=p.exports(b),s=!0;else if("module"===k)h=u[n]=p.module(b);else if(e(q,k)||e(r,k)||e(t,k))u[n]=j(k);else{if(!m.p)throw new Error(b+" missing "+k);m.p.load(m.n,g(f,!0),i(k),{}),u[n]=q[k]}l=d?d.apply(q[b],u):void 0,b&&(h&&h.exports!==a&&h.exports!==q[b]?q[b]=h.exports:l===a&&s||(q[b]=l))}else b&&(q[b]=d)},c=d=n=function(b,c,d,e,f){if("string"==typeof b)return p[b]?p[b](c):j(o(b,c).f);if(!b.splice){if(s=b,s.deps&&n(s.deps,s.callback),!c)return;c.splice?(b=c,c=d,d=null):b=a}return c=c||function(){},"function"==typeof d&&(d=e,e=f),e?m(a,b,c,d):setTimeout(function(){m(a,b,c,d)},4),n},n.config=function(a){return n(a)},c._defined=q,b=function(a,b,c){if("string"!=typeof a)throw new Error("See almond README: incorrect module build, no module name");b.splice||(c=b,b=[]),e(q,a)||e(r,a)||(r[a]=[a,b,c])},b.amd={jQuery:!0}}(),b("../vendor/almond/almond",function(){}),b("davinci-blade/core",["require","exports"],function(){var a={VERSION:"0.9.2"};return a}),b("davinci-blade/Euclidean2",["require","exports"],function(){function a(a,b,c,d,e,f,g,h){return a=+a,b=+b,c=+c,d=+d,e=+e,f=+f,g=+g,h=+h,+(a+e)}function b(a,b,c,d,e,f,g,h){return a=+a,b=+b,c=+c,d=+d,e=+e,f=+f,g=+g,h=+h,+(b+f)}function c(a,b,c,d,e,f,g,h){return a=+a,b=+b,c=+c,d=+d,e=+e,f=+f,g=+g,h=+h,+(c+g)}function d(a,b,c,d,e,f,g,h){return a=+a,b=+b,c=+c,d=+d,e=+e,f=+f,g=+g,h=+h,+(d+h)}function e(a,b,c,d,e,f,g,h,i){a=+a,b=+b,c=+c,d=+d,e=+e,f=+f,g=+g,h=+h,i=0|i;var j=0;switch(~~i){case 0:j=+(a-e);break;case 1:j=+(b-f);break;case 2:j=+(c-g);break;case 3:j=+(d-h);break;default:throw new Error("index must be in the range [0..3]")}return+j}function f(a,b,c,d,e,f,g,h,i){a=+a,b=+b,c=+c,d=+d,e=+e,f=+f,g=+g,h=+h,i=0|i;var j=0;switch(~~i){case 0:j=+(a*e+b*f+c*g-d*h);break;case 1:j=+(a*f+b*e-c*h+d*g);break;case 2:j=+(a*g+b*h+c*e-d*f);break;case 3:j=+(a*h+b*g-c*f+d*e);break;default:throw new Error("index must be in the range [0..3]")}return+j}function g(a,b,c,d,e,f,g,h,i){a=+a,b=+b,c=+c,d=+d,e=+e,f=+f,g=+g,h=+h,i=0|i;var j=0;switch(~~i){case 0:j=+(a*e);break;case 1:j=+(a*f+b*e);break;case 2:j=+(a*g+c*e);break;case 3:j=+(a*h+b*g-c*f+d*e);break;default:throw new Error("index must be in the range [0..3]")}return+j}function h(a,b,c,d,e,f,g,h,i){a=+a,b=+b,c=+c,d=+d,e=+e,f=+f,g=+g,h=+h,i=0|i;var j=0;switch(~~i){case 0:j=+(a*e+b*f+c*g-d*h);break;case 1:j=+(a*f-c*h);break;case 2:j=+(a*g+b*h);break;case 3:j=+(a*h);break;default:throw new Error("index must be in the range [0..3]")}return+j}function i(a,b,c,d,e,f,g,h,i){a=+a,b=+b,c=+c,d=+d,e=+e,f=+f,g=+g,h=+h,i=0|i;var j=0;switch(~~i){case 0:j=+(a*e+b*f+c*g-d*h);break;case 1:j=+(-b*e-d*g);break;case 2:j=+(-c*e+d*f);break;case 3:j=+(d*e);break;default:throw new Error("index must be in the range [0..3]")}return+j}function j(a,b){var c,d,e,f,g=[],h=function(a,b){var c;0!==a&&(a>=0?g.length>0&&g.push("+"):g.push("-"),c=Math.abs(a),1===c?g.push(b):(g.push(c.toString()),"1"!==b&&(g.push("*"),g.push(b))))};for(c=d=0,e=a.length-1;e>=0?e>=d:d>=e;c=e>=0?++d:--d)h(a[c],b[c]);return f=g.length>0?g.join(""):"0"}var k=function(a,b,c,d,e,f,g,h,i){var j,k,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I;return x=+e,y=+f,z=+g,A=-h,t=e*x+f*y+g*z-h*A,u=0,v=0,w=0,j=+t,k=-u,m=-v,n=-w,B=x*j+y*k+z*m-A*n,C=x*k+y*j-z*n+A*m,D=x*m+y*n+z*j-A*k,E=x*n+y*m-z*k+A*j,s=e*B+f*C+g*D-h*E,o=B/s,p=C/s,q=D/s,r=E/s,F=a*o+b*p+c*q-d*r,G=a*p+b*o-c*r+d*q,H=a*q+b*r+c*o-d*p,I=a*r+b*q-c*p+d*o,"undefined"!=typeof i?(i.w=F,i.x=G,i.y=H,i.xy=I):new l(F,G,H,I)},l=function(){function l(a,b,c,d){this.w=a||0,this.x=b,this.y=c,this.xy=d}return l.prototype.fromCartesian=function(a,b,c,d){return new l(a,b,c,d)},l.prototype.fromPolar=function(a,b,c,d){return new l(a,b*Math.cos(c),b*Math.sin(c),d)},l.prototype.coordinates=function(){return[this.w,this.x,this.y,this.xy]},l.prototype.coordinate=function(a){switch(a){case 0:return this.w;case 1:return this.x;case 2:return this.y;case 3:return this.xy;default:throw new Error("index must be in the range [0..3]")}},l.add=function(e,f){var g,h,i,j,k,l,m,n,o,p,q,r;return g=e[0],h=e[1],i=e[2],j=e[3],k=f[0],l=f[1],m=f[2],n=f[3],o=a(g,h,i,j,k,l,m,n),p=b(g,h,i,j,k,l,m,n),q=c(g,h,i,j,k,l,m,n),r=d(g,h,i,j,k,l,m,n),[o,p,q,r]},l.prototype.add=function(a){var b;return b=l.add(this.coordinates(),a.coordinates()),new l(b[0],b[1],b[2],b[3])},l.sub=function(a,b){var c,d,f,g,h,i,j,k,l,m,n,o;return c=a[0],d=a[1],f=a[2],g=a[3],h=b[0],i=b[1],j=b[2],k=b[3],l=e(c,d,f,g,h,i,j,k,0),m=e(c,d,f,g,h,i,j,k,1),n=e(c,d,f,g,h,i,j,k,2),o=e(c,d,f,g,h,i,j,k,3),[l,m,n,o]},l.prototype.sub=function(a){var b;return b=l.sub(this.coordinates(),a.coordinates()),new l(b[0],b[1],b[2],b[3])},l.mul=function(a,b){var c,d,e,g,h,i,j,k,l,m,n,o;return c=a[0],d=a[1],e=a[2],g=a[3],h=b[0],i=b[1],j=b[2],k=b[3],l=f(c,d,e,g,h,i,j,k,0),m=f(c,d,e,g,h,i,j,k,1),n=f(c,d,e,g,h,i,j,k,2),o=f(c,d,e,g,h,i,j,k,3),[l,m,n,o]},l.prototype.mul=function(a){var b;return"number"==typeof a?this.scalarMultiply(a):(b=l.mul(this.coordinates(),a.coordinates()),new l(b[0],b[1],b[2],b[3]))},l.prototype.scalarMultiply=function(a){return new l(this.w*a,this.x*a,this.y*a,this.xy*a)},l.prototype.div=function(a){return"number"==typeof a?new l(this.w/a,this.x/a,this.y/a,this.xy/a):k(this.w,this.x,this.y,this.xy,a.w,a.x,a.y,a.xy,void 0)},l.wedge=function(a,b){var c,d,e,f,h,i,j,k,l,m,n,o;return c=a[0],d=a[1],e=a[2],f=a[3],h=b[0],i=b[1],j=b[2],k=b[3],l=g(c,d,e,f,h,i,j,k,0),m=g(c,d,e,f,h,i,j,k,1),n=g(c,d,e,f,h,i,j,k,2),o=g(c,d,e,f,h,i,j,k,3),[l,m,n,o]},l.prototype.wedge=function(a){var b;return b=l.wedge(this.coordinates(),a.coordinates()),new l(b[0],b[1],b[2],b[3])},l.lshift=function(a,b){var c,d,e,f,g,i,j,k,l,m,n,o;return c=a[0],d=a[1],e=a[2],f=a[3],g=b[0],i=b[1],j=b[2],k=b[3],l=h(c,d,e,f,g,i,j,k,0),m=h(c,d,e,f,g,i,j,k,1),n=h(c,d,e,f,g,i,j,k,2),o=h(c,d,e,f,g,i,j,k,3),[l,m,n,o]},l.prototype.lshift=function(a){var b;return b=l.lshift(this.coordinates(),a.coordinates()),new l(b[0],b[1],b[2],b[3])},l.rshift=function(a,b){var c,d,e,f,g,h,j,k,l,m,n,o;return c=a[0],d=a[1],e=a[2],f=a[3],g=b[0],h=b[1],j=b[2],k=b[3],l=i(c,d,e,f,g,h,j,k,0),m=i(c,d,e,f,g,h,j,k,1),n=i(c,d,e,f,g,h,j,k,2),o=i(c,d,e,f,g,h,j,k,3),[l,m,n,o]},l.prototype.rshift=function(a){var b;return b=l.rshift(this.coordinates(),a.coordinates()),new l(b[0],b[1],b[2],b[3])},l.prototype.grade=function(a){switch(a){case 0:return new l(this.w,0,0,0);case 1:return new l(0,this.x,this.y,0);case 2:return new l(0,0,0,this.xy);default:return new l(0,0,0,0)}},l.prototype.norm=function(){var a,b,c,d;return a=this.w,b=this.x,d=this.y,c=this.xy,new l(Math.sqrt(a*a+b*b+d*d+c*c),0,0,0)},l.prototype.quad=function(){var a,b,c,d;return a=this.w,b=this.x,d=this.y,c=this.xy,new l(a*a+b*b+d*d+c*c,0,0,0)},l.prototype.isNaN=function(){return isNaN(this.w)||isNaN(this.x)||isNaN(this.y)||isNaN(this.xy)},l.prototype.toString=function(){return j([this.w,this.x,this.y,this.xy],["1","e1","e2","e12"])},l.prototype.toStringIJK=function(){return j(this.coordinates(),["1","i","j","I"])},l.prototype.toStringLATEX=function(){return j(this.coordinates(),["1","e_{1}","e_{2}","e_{12}"])},l}();return l}),b("davinci-blade/Euclidean3",["require","exports"],function(){function a(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){a=+a,b=+b,c=+c,d=+d,e=+e,f=+f,g=+g,h=+h,i=+i,j=+j,k=+k,l=+l,m=+m,n=+n,o=+o,p=+p,q=0|q;var r=0;switch(~~q){case 0:r=+(a+i);break;case 1:r=+(b+j);break;case 2:r=+(c+k);break;case 3:r=+(d+l);break;case 4:r=+(e+m);break;case 5:r=+(f+n);break;case 6:r=+(g+o);break;case 7:r=+(h+p);break;default:throw new Error("index must be in the range [0..7]")}return+r}function b(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){a=+a,b=+b,c=+c,d=+d,e=+e,f=+f,g=+g,h=+h,i=+i,j=+j,k=+k,l=+l,m=+m,n=+n,o=+o,p=+p,q=0|q;var r=0;switch(~~q){case 0:r=+(a-i);break;case 1:r=+(b-j);break;case 2:r=+(c-k);break;case 3:r=+(d-l);break;case 4:r=+(e-m);break;case 5:r=+(f-n);break;case 6:r=+(g-o);break;case 7:r=+(h-p);break;default:throw new Error("index must be in the range [0..7]")}return+r}function c(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){a=+a,b=+b,c=+c,d=+d,e=+e,f=+f,g=+g,h=+h,i=+i,j=+j,k=+k,l=+l,m=+m,n=+n,o=+o,p=+p,q=0|q;var r=0;switch(~~q){case 0:r=+(a*i+b*j+c*k+d*l-e*m-f*n-g*o-h*p);break;case 1:r=+(a*j+b*i-c*m+d*o+e*k-f*p-g*l-h*n);break;case 2:r=+(a*k+b*m+c*i-d*n-e*j+f*l-g*p-h*o);break;case 3:r=+(a*l-b*o+c*n+d*i-e*p-f*k+g*j-h*m);break;case 4:r=+(a*m+b*k-c*j+d*p+e*i-f*o+g*n+h*l);break;case 5:r=+(a*n+b*p+c*l-d*k+e*o+f*i-g*m+h*j);break;case 6:r=+(a*o-b*l+c*p+d*j-e*n+f*m+g*i+h*k);break;case 7:r=+(a*p+b*n+c*o+d*m+e*l+f*j+g*k+h*i);break;default:throw new Error("index must be in the range [0..7]")}return+r}function d(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){a=+a,b=+b,c=+c,d=+d,e=+e,f=+f,g=+g,h=+h,i=+i,j=+j,k=+k,l=+l,m=+m,n=+n,o=+o,p=+p,q=0|q;var r=0;switch(~~q){case 0:r=+(a*i);break;case 1:r=+(a*j+b*i);break;case 2:r=+(a*k+c*i);break;case 3:r=+(a*l+d*i);break;case 4:r=+(a*m+b*k-c*j+e*i);break;case 5:r=+(a*n+c*l-d*k+f*i);break;case 6:r=+(a*o-b*l+d*j+g*i);break;case 7:r=+(a*p+b*n+c*o+d*m+e*l+f*j+g*k+h*i);break;default:throw new Error("index must be in the range [0..7]")}return+r}function e(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){a=+a,b=+b,c=+c,d=+d,e=+e,f=+f,g=+g,h=+h,i=+i,j=+j,k=+k,l=+l,m=+m,n=+n,o=+o,p=+p,q=0|q;var r=0;switch(~~q){case 0:r=+(a*i+b*j+c*k+d*l-e*m-f*n-g*o-h*p);break;case 1:r=+(a*j-c*m+d*o-f*p);break;case 2:r=+(a*k+b*m-d*n-g*p);break;case 3:r=+(a*l-b*o+c*n-e*p);break;case 4:r=+(a*m+d*p);break;case 5:r=+(a*n+b*p);break;case 6:r=+(a*o+c*p);break;case 7:r=+(a*p);break;default:throw new Error("index must be in the range [0..7]")}return+r}function f(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){a=+a,b=+b,c=+c,d=+d,e=+e,f=+f,g=+g,h=+h,i=+i,j=+j,k=+k,l=+l,m=+m,n=+n,o=+o,p=+p,q=0|q;var r=0;switch(~~q){case 0:r=+(a*i+b*j+c*k+d*l-e*m-f*n-g*o-h*p);break;case 1:r=+(+b*i+e*k-g*l-h*n);break;case 2:r=+(+c*i-e*j+f*l-h*o);break;case 3:r=+(+d*i-f*k+g*j-h*m);break;case 4:r=+(+e*i+h*l);break;case 5:r=+(+f*i+h*j);break;case 6:r=+(+g*i+h*k);break;case 7:r=+(+h*i);break;default:throw new Error("index must be in the range [0..7]")}return+r}function g(a,b){var c,d,e,f,g=[],h=function(a,b){var c;0!==a&&(a>=0?g.length>0&&g.push("+"):g.push("-"),c=Math.abs(a),1===c?g.push(b):(g.push(c.toString()),"1"!==b&&(g.push("*"),g.push(b))))};for(c=d=0,e=a.length-1;e>=0?e>=d:d>=e;c=e>=0?++d:--d)h(a[c],b[c]);return f=g.length>0?g.join(""):"0"}var h=function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C;return f=d(b,0),g=d(b,1),h=d(b,2),i=d(b,3),j=d(b,4),k=d(b,5),l=d(b,6),m=d(b,7),n=d(c,0),o=d(c,1),p=d(c,2),q=d(c,3),r=d(c,4),s=d(c,5),t=d(c,6),u=d(c,7),v=a(f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,0),w=a(f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,1),x=a(f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,2),y=a(f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,3),z=a(f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,4),A=a(f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,5),B=a(f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,6),C=a(f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,7),e(v,w,x,y,z,A,B,C)},i=function(a,b,d,e,f,g,h,i,k,l,m,n,o,p,q,r,s){var t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa,qa,ra,sa,ta,ua,va;return S=+k,T=+l,U=+m,V=-n,W=+o,X=-p,Y=-q,Z=-r,K=c(k,l,m,o,n,q,-p,r,S,T,U,W,V,Y,-X,Z,0),L=c(k,l,m,o,n,q,-p,r,S,T,U,W,V,Y,-X,Z,1),M=c(k,l,m,o,n,q,-p,r,S,T,U,W,V,Y,-X,Z,2),N=0,O=c(k,l,m,o,n,q,-p,r,S,T,U,W,V,Y,-X,Z,3),P=0,Q=0,R=0,t=+K,u=-L,v=-M,w=-N,x=-O,y=-P,z=-Q,A=+R,$=c(S,T,U,W,V,Y,-X,Z,t,u,v,x,w,z,-y,A,0),_=c(S,T,U,W,V,Y,-X,Z,t,u,v,x,w,z,-y,A,1),aa=c(S,T,U,W,V,Y,-X,Z,t,u,v,x,w,z,-y,A,2),ba=c(S,T,U,W,V,Y,-X,Z,t,u,v,x,w,z,-y,A,4),ca=c(S,T,U,W,V,Y,-X,Z,t,u,v,x,w,z,-y,A,3),da=-c(S,T,U,W,V,Y,-X,Z,t,u,v,x,w,z,-y,A,6),ea=c(S,T,U,W,V,Y,-X,Z,t,u,v,x,w,z,-y,A,5),fa=c(S,T,U,W,V,Y,-X,Z,t,u,v,x,w,z,-y,A,7),J=c(k,l,m,o,n,q,-p,r,$,_,aa,ca,ba,ea,-da,fa,0),B=$/J,C=_/J,D=aa/J,E=ba/J,F=ca/J,G=da/J,H=ea/J,I=fa/J,ia=c(a,b,d,f,e,h,-g,i,B,C,D,F,E,H,-G,I,0),ja=c(a,b,d,f,e,h,-g,i,B,C,D,F,E,H,-G,I,1),ka=c(a,b,d,f,e,h,-g,i,B,C,D,F,E,H,-G,I,2),la=c(a,b,d,f,e,h,-g,i,B,C,D,F,E,H,-G,I,4),ma=c(a,b,d,f,e,h,-g,i,B,C,D,F,E,H,-G,I,3),na=-c(a,b,d,f,e,h,-g,i,B,C,D,F,E,H,-G,I,6),oa=c(a,b,d,f,e,h,-g,i,B,C,D,F,E,H,-G,I,5),pa=c(a,b,d,f,e,h,-g,i,B,C,D,F,E,H,-G,I,7),ga=ia,ha=ja,sa=ka,ua=ma,qa=la,ta=oa,va=-na,ra=pa,"undefined"!=typeof s?(s.w=ga,s.x=ha,s.y=sa,s.z=ua,s.xy=qa,s.yz=ta,s.zx=va,s.xyz=ra):new j(ga,ha,sa,ua,qa,ta,va,ra)},j=function(){function j(a,b,c,d,e,f,g,h){this.w=a||0,this.x=b||0,this.y=c||0,this.z=d||0,this.xy=e||0,this.yz=f||0,this.zx=g||0,this.xyz=h||0}return j.fromCartesian=function(a,b,c,d,e,f,g,h){return new j(a,b,c,d,e,f,g,h)},j.prototype.coordinates=function(){return[this.w,this.x,this.y,this.z,this.xy,this.yz,this.zx,this.xyz]},j.prototype.coordinate=function(a){switch(a){case 0:return this.w;case 1:return this.x;case 2:return this.y;case 3:return this.z;case 4:return this.xy;case 5:return this.yz;case 6:return this.zx;case 7:return this.xyz;default:throw new Error("index must be in the range [0..7]")}},j.prototype.add=function(b){var c,d;return c=function(a,b){return a[b]},d=function(a,b,c,d,e,f,g,h){return j.fromCartesian(a,b,c,d,e,f,g,h)},h(a,[this.w,this.x,this.y,this.z,this.xy,this.yz,this.zx,this.xyz],[b.w,b.x,b.y,b.z,b.xy,b.yz,b.zx,b.xyz],c,d)},j.prototype.sub=function(a){var c,d;return c=function(a,b){return a[b]},d=function(a,b,c,d,e,f,g,h){return j.fromCartesian(a,b,c,d,e,f,g,h)},h(b,[this.w,this.x,this.y,this.z,this.xy,this.yz,this.zx,this.xyz],[a.w,a.x,a.y,a.z,a.xy,a.yz,a.zx,a.xyz],c,d)},j.prototype.mul=function(a){var b,d;return"number"==typeof a?this.scalarMultiply(a):(b=function(a,b){return a[b]},d=function(a,b,c,d,e,f,g,h){return j.fromCartesian(a,b,c,d,e,f,g,h)},h(c,[this.w,this.x,this.y,this.z,this.xy,this.yz,this.zx,this.xyz],[a.w,a.x,a.y,a.z,a.xy,a.yz,a.zx,a.xyz],b,d))},j.prototype.scalarMultiply=function(a){return new j(this.w*a,this.x*a,this.y*a,this.z*a,this.xy*a,this.yz*a,this.zx*a,this.xyz*a)},j.prototype.div=function(a){return"number"==typeof a?new j(this.w/a,this.x/a,this.y/a,this.z/a,this.xy/a,this.yz/a,this.zx/a,this.xyz/a):i(this.w,this.x,this.y,this.xy,this.z,-this.zx,this.yz,this.xyz,a.w,a.x,a.y,a.xy,a.z,-a.zx,a.yz,a.xyz,void 0)},j.prototype.wedge=function(a){var b,c;return b=function(a,b){return a[b]},c=function(a,b,c,d,e,f,g,h){return j.fromCartesian(a,b,c,d,e,f,g,h)},h(d,[this.w,this.x,this.y,this.z,this.xy,this.yz,this.zx,this.xyz],[a.w,a.x,a.y,a.z,a.xy,a.yz,a.zx,a.xyz],b,c)},j.prototype.lshift=function(a){var b,c;return b=function(a,b){return a[b]},c=function(a,b,c,d,e,f,g,h){return j.fromCartesian(a,b,c,d,e,f,g,h)},h(e,[this.w,this.x,this.y,this.z,this.xy,this.yz,this.zx,this.xyz],[a.w,a.x,a.y,a.z,a.xy,a.yz,a.zx,a.xyz],b,c)},j.prototype.rshift=function(a){var b,c;return b=function(a,b){return a[b]},c=function(a,b,c,d,e,f,g,h){return j.fromCartesian(a,b,c,d,e,f,g,h)},h(f,[this.w,this.x,this.y,this.z,this.xy,this.yz,this.zx,this.xyz],[a.w,a.x,a.y,a.z,a.xy,a.yz,a.zx,a.xyz],b,c)},j.prototype.grade=function(a){switch(a){case 0:return j.fromCartesian(this.w,0,0,0,0,0,0,0);case 1:return j.fromCartesian(0,this.x,this.y,this.z,0,0,0,0);case 2:return j.fromCartesian(0,0,0,0,this.xy,this.yz,this.zx,0);case 3:return j.fromCartesian(0,0,0,0,0,0,0,this.xyz);default:return j.fromCartesian(0,0,0,0,0,0,0,0)}},j.prototype.dot=function(a){return this.x*a.x+this.y*a.y+this.z*a.z},j.prototype.cross=function(a){var b,c,d,e,f,g,h,i,k;return c=this.x,f=this.y,i=this.z,d=a.x,g=a.y,k=a.z,b=f*k-i*g,e=i*d-c*k,h=c*g-f*d,new j(0,b,e,h,0,0,0,0)},j.prototype.length=function(){return Math.sqrt(this.w*this.w+this.x*this.x+this.y*this.y+this.z*this.z+this.xy*this.xy+this.yz*this.yz+this.zx*this.zx+this.xyz*this.xyz)},j.prototype.norm=function(){return new j(Math.sqrt(this.w*this.w+this.x*this.x+this.y*this.y+this.z*this.z+this.xy*this.xy+this.yz*this.yz+this.zx*this.zx+this.xyz*this.xyz),0,0,0,0,0,0,0)},j.prototype.quad=function(){return new j(this.w*this.w+this.x*this.x+this.y*this.y+this.z*this.z+this.xy*this.xy+this.yz*this.yz+this.zx*this.zx+this.xyz*this.xyz,0,0,0,0,0,0,0)},j.prototype.sqrt=function(){return new j(Math.sqrt(this.w),0,0,0,0,0,0,0)},j.prototype.toString=function(){return g([this.w,this.x,this.y,this.z,this.xy,this.yz,this.zx,this.xyz],["1","e1","e2","e3","e12","e23","e31","e123"])},j.prototype.toStringIJK=function(){return g([this.w,this.x,this.y,this.z,this.xy,this.yz,this.zx,this.xyz],["1","i","j","k","ij","jk","ki","I"])},j.prototype.toStringLATEX=function(){return g([this.w,this.x,this.y,this.z,this.xy,this.yz,this.zx,this.xyz],["1","e_{1}","e_{2}","e_{3}","e_{12}","e_{23}","e_{31}","e_{123}"])},j}();return j}),b("davinci-blade/Rational",["require","exports"],function(){var a=function(){function a(a,b){var c,d=function(a,b){var c;for(0>a&&(a=-a),0>b&&(b=-b),b>a&&(c=a,a=b,b=c);;){if(a%=b,0===a)return b;if(b%=a,0===b)return a}};if(0===b)throw new Error("denominator must not be zero");c=0===a?1:d(Math.abs(a),Math.abs(b)),0>b&&(a=-a,b=-b),this._numer=a/c,this._denom=b/c}return Object.defineProperty(a.prototype,"numer",{get:function(){return this._numer},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"denom",{get:function(){return this._denom},enumerable:!0,configurable:!0}),a.prototype.add=function(b){return"number"==typeof b?new a(this._numer+this._denom*b,this._denom):new a(this._numer*b._denom+this._denom*b._numer,this._denom*b._denom)},a.prototype.sub=function(b){return"number"==typeof b?new a(this._numer-this._denom*b,this._denom):new a(this._numer*b._denom-this._denom*b._numer,this._denom*b._denom)},a.prototype.mul=function(b){return"number"==typeof b?new a(this._numer*b,this._denom):new a(this._numer*b._numer,this._denom*b._denom)},a.prototype.div=function(b){return"number"==typeof b?new a(this._numer,this._denom*b):new a(this._numer*b._denom,this._denom*b._numer)},a.prototype.isZero=function(){return 0===this._numer},a.prototype.negative=function(){return new a(-this._numer,this._denom)},a.prototype.equals=function(b){return b instanceof a?this._numer*b._denom===this._denom*b._numer:!1},a.prototype.toString=function(){return""+this._numer+"/"+this._denom},a.ONE=new a(1,1),a.MINUS_ONE=new a(-1,1),a.ZERO=new a(0,1),a}();return a}),b("davinci-blade/Dimensions",["require","exports","davinci-blade/Rational"],function(a,b,c){var d=function(){function a(a,b,d,e,f,g,h){this.L=b,this.T=d,this.Q=e,this.temperature=f,this.amount=g,this.intensity=h;var i=b,j=d,k=e;if(7!==arguments.length)throw{name:"DimensionError",message:"Expecting 7 arguments"};if("number"==typeof a)this._mass=new c(a,1);else{if(!(a instanceof c))throw{name:"DimensionError",message:"mass must be a Rational or number"};this._mass=a}if("number"==typeof i)this.L=new c(i,1);else{if(!(i instanceof c))throw{name:"DimensionError",message:"length must be a Rational or number"};this.L=i}if("number"==typeof j)this.T=new c(j,1);else{if(!(j instanceof c))throw{name:"DimensionError",message:"time must be a Rational or number"};this.T=j}if("number"==typeof k)this.Q=new c(k,1);else{if(!(k instanceof c))throw{name:"DimensionError",message:"charge must be a Rational or number"};this.Q=k}if("number"==typeof f)this.temperature=new c(f,1);else{if(!(f instanceof c))throw{name:"DimensionError",message:"(thermodynamic) temperature must be a Rational or number"};this.temperature=f}if("number"==typeof g)this.amount=new c(g,1);else{if(!(g instanceof c))throw{name:"DimensionError",message:"amount (of substance) must be a Rational or number"};this.amount=g}if("number"==typeof h)this.intensity=new c(h,1);else{if(!(h instanceof c))throw{name:"DimensionError",message:"(luminous) intensity must be a Rational or number"};this.intensity=h}}return Object.defineProperty(a.prototype,"M",{get:function(){return this._mass},enumerable:!0,configurable:!0}),a.prototype.compatible=function(a){if(this._mass.equals(a._mass)&&this.L.equals(a.L)&&this.T.equals(a.T)&&this.Q.equals(a.Q)&&this.temperature.equals(a.temperature)&&this.amount.equals(a.amount)&&this.intensity.equals(a.intensity))return this;throw{name:"DimensionError",message:"Dimensions must be equal ("+this+", "+a+")"}},a.prototype.mul=function(b){return new a(this._mass.add(b._mass),this.L.add(b.L),this.T.add(b.T),this.Q.add(b.Q),this.temperature.add(b.temperature),this.amount.add(b.amount),this.intensity.add(b.intensity))},a.prototype.div=function(b){return new a(this._mass.sub(b._mass),this.L.sub(b.L),this.T.sub(b.T),this.Q.sub(b.Q),this.temperature.sub(b.temperature),this.amount.sub(b.amount),this.intensity.sub(b.intensity))},a.prototype.pow=function(b){return new a(this._mass.mul(b),this.L.mul(b),this.T.mul(b),this.Q.mul(b),this.temperature.mul(b),this.amount.mul(b),this.intensity.mul(b))},a.prototype.dimensionless=function(){return this._mass.isZero()&&this.L.isZero()&&this.T.isZero()&&this.Q.isZero()&&this.temperature.isZero()&&this.amount.isZero()&&this.intensity.isZero()},a.prototype.isZero=function(){return this._mass.isZero()&&this.L.isZero()&&this.T.isZero()&&this.Q.isZero()&&this.temperature.isZero()&&this.amount.isZero()&&this.intensity.isZero()},a.prototype.negative=function(){return new a(this._mass.negative(),this.L.negative(),this.T.negative(),this.Q.negative(),this.temperature.negative(),this.amount.negative(),this.intensity.negative())},a.prototype.toString=function(){var a=function(a,b){return 0===a.numer?null:1===a.denom?1===a.numer?""+b:""+b+" ** "+a.numer:""+b+" ** "+a};return[a(this._mass,"mass"),a(this.L,"length"),a(this.T,"time"),a(this.Q,"charge"),a(this.temperature,"thermodynamic temperature"),a(this.amount,"amount of substance"),a(this.intensity,"luminous intensity")].filter(function(a){return"string"==typeof a}).join(" * ")},a}();return d}),b("davinci-blade/Unit",["require","exports"],function(){var a=function(){function a(a,b,c){if(this.scale=a,this.dimensions=b,this.labels=c,7!==c.length)throw new Error("Expecting 7 elements in the labels array.");this.scale=a,this.dimensions=b,this.labels=c}return a.prototype.compatible=function(b){var c;if(b instanceof a)return c=this.dimensions.compatible(b.dimensions),this;throw new Error("Illegal Argument for Unit.compatible: "+b)},a.prototype.add=function(b){if(b instanceof a)return new a(this.scale+b.scale,this.dimensions.compatible(b.dimensions),this.labels);throw new Error("Illegal Argument for Unit.add: "+b)},a.prototype.sub=function(b){if(b instanceof a)return new a(this.scale-b.scale,this.dimensions.compatible(b.dimensions),this.labels);throw new Error("Illegal Argument for Unit.sub: "+b)},a.prototype.mul=function(b){if("number"==typeof b)return new a(this.scale*b,this.dimensions,this.labels);if(b instanceof a)return new a(this.scale*b.scale,this.dimensions.mul(b.dimensions),this.labels);throw new Error("Illegal Argument for mul: "+b)},a.prototype.div=function(b){if("number"==typeof b)return new a(this.scale/b,this.dimensions,this.labels);if(b instanceof a)return new a(this.scale/b.scale,this.dimensions.div(b.dimensions),this.labels);throw new Error("Illegal Argument for div: "+b)},a.prototype.pow=function(b){if("number"==typeof b)return new a(Math.pow(this.scale,b),this.dimensions.pow(b),this.labels);throw new Error("Illegal Argument for div: "+b)},a.prototype.inverse=function(){return new a(1/this.scale,this.dimensions.negative(),this.labels)},a.prototype.toString=function(){var a,b,c,d=function(a,b){return 0===a.numer?null:1===a.denom?1===a.numer?""+b:""+b+" ** "+a.numer:""+b+" ** "+a};return a=1===this.scale||this.dimensions.isZero()?"":" ",b=1===this.scale?"":""+this.scale,c=[d(this.dimensions.M,this.labels[0]),d(this.dimensions.L,this.labels[1]),d(this.dimensions.T,this.labels[2]),d(this.dimensions.Q,this.labels[3]),d(this.dimensions.temperature,this.labels[4]),d(this.dimensions.amount,this.labels[5]),d(this.dimensions.intensity,this.labels[6])].filter(function(a){return"string"==typeof a}).join(" "),""+b+a+c},a}();return a}),b("davinci-blade/Measure",["require","exports","davinci-blade/Unit"],function(a,b,c){var d=function(){function a(a,b){1===b.scale?(this._quantity=a,this._uom=b):(this._quantity=a.scalarMultiply(b.scale),this._uom=new c(1,b.dimensions,b.labels))}return Object.defineProperty(a.prototype,"quantity",{get:function(){return this._quantity},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"uom",{get:function(){return this._uom},enumerable:!0,configurable:!0}),a.prototype.add=function(b){if(b instanceof a){var c=b,d=this.quantity,e=c.quantity,f=d.add(e);return new a(f,this.uom.compatible(c.uom))}throw new Error("Measure.add(rhs): rhs must be a Measure.")},a.prototype.sub=function(b){if(b instanceof a)return new a(this.quantity.sub(b.quantity),this.uom.compatible(b.uom));throw new Error("Measure.sub(rhs): rhs must be a Measure.")},a.prototype.mul=function(b){if(b instanceof a)return new a(this.quantity.mul(b.quantity),this.uom.mul(b.uom));if(b instanceof c)return new a(this.quantity,this.uom.mul(b));if("number"==typeof b){var d=b;return this.scalarMultiply(d)}throw new Error("Measure.mul(rhs): rhs must be a [Measure, Unit, number]")},a.prototype.scalarMultiply=function(b){return new a(this.quantity.mul(b),this.uom)},a.prototype.div=function(b){if(b instanceof a)return new a(this.quantity.div(b.quantity),this.uom.div(b.uom));if(b instanceof c)return new a(this.quantity,this.uom.div(b));if("number"==typeof b)return new a(this.quantity.div(b),this.uom);throw new Error("Measure.div(rhs): rhs must be a [Measure, Unit, number]")},a.prototype.wedge=function(b){if(b instanceof a)return new a(this.quantity.wedge(b.quantity),this.uom.mul(b.uom));throw new Error("Measure.wedge(rhs): rhs must be a Measure")},a.prototype.lshift=function(b){if(b instanceof a)return new a(this.quantity.lshift(b.quantity),this.uom.mul(b.uom));throw new Error("Measure.lshift(rhs): rhs must be a Measure")},a.prototype.rshift=function(b){if(b instanceof a)return new a(this.quantity.rshift(b.quantity),this.uom.mul(b.uom));throw new Error("Measure.rshift(rhs): rhs must be a Measure")},a.prototype.norm=function(){return null},a.prototype.quad=function(){return null},a.prototype.toString=function(){return""+this.quantity+" "+this.uom},a}();return d}),b("davinci-blade",["require","exports","davinci-blade/core","davinci-blade/Euclidean2","davinci-blade/Euclidean3","davinci-blade/Rational","davinci-blade/Dimensions","davinci-blade/Unit","davinci-blade/Measure"],function(a,b,c,d,e,f,g,h,i){var j=["kg","m","s","C","K","mol","cd"],k=f.ZERO,l=f.ONE,m=f.MINUS_ONE,n=new h(1,new g(k,k,k,k,k,k,k),j),o=new h(1,new g(l,k,k,k,k,k,k),j),p=new h(1,new g(k,l,k,k,k,k,k),j),q=new h(1,new g(k,k,l,k,k,k,k),j),r=new h(1,new g(k,k,m,l,k,k,k),j),s=new h(1,new g(k,k,k,k,l,k,k),j),t=new h(1,new g(k,k,k,k,k,l,k),j),u=new h(1,new g(k,k,k,k,k,k,l),j),v=new h(1,new g(k,k,k,l,k,k,k),j),w=new h(.0254,new g(k,l,k,k,k,k,k),j),x=new h(.3048,new g(k,l,k,k,k,k,k),j),y=new h(.9144,new g(k,l,k,k,k,k,k),j),z=new h(1609.344,new g(k,l,k,k,k,k,k),j),A=new h(.45359237,new g(l,k,k,k,k,k,k),j),B={VERSION:c.VERSION,Euclidean2:d,Euclidean3:e,Rational:f,Dimensions:g,Unit:h,Measure:i,UNIT_DIMLESS:n,UNIT_KILOGRAM:o,UNIT_METER:p,UNIT_SECOND:q,UNIT_AMPERE:r,UNIT_KELVIN:s,UNIT_MOLE:t,UNIT_CANDELA:u,UNIT_COULOMB:v,UNIT_INCH:w,UNIT_FOOT:x,UNIT_YARD:y,UNIT_MILE:z,UNIT_POUND:A};return B});var f=d("blade");"undefined"!=typeof module&&module.exports?module.exports=f:e?!function(a){a(function(){return f})}(e):a.blade=f}(this);