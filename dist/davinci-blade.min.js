(function(e,t){var n=e.define,r,i,t;(function(e){function v(e,t){return h.call(e,t)}function m(e,t){var n,r,i,s,o,u,a,f,c,h,p,v=t&&t.split("/"),m=l.map,g=m&&m["*"]||{};if(e&&e.charAt(0)===".")if(t){v=v.slice(0,v.length-1),e=e.split("/"),o=e.length-1,l.nodeIdCompat&&d.test(e[o])&&(e[o]=e[o].replace(d,"")),e=v.concat(e);for(c=0;c<e.length;c+=1){p=e[c];if(p===".")e.splice(c,1),c-=1;else if(p===".."){if(c===1&&(e[2]===".."||e[0]===".."))break;c>0&&(e.splice(c-1,2),c-=2)}}e=e.join("/")}else e.indexOf("./")===0&&(e=e.substring(2));if((v||g)&&m){n=e.split("/");for(c=n.length;c>0;c-=1){r=n.slice(0,c).join("/");if(v)for(h=v.length;h>0;h-=1){i=m[v.slice(0,h).join("/")];if(i){i=i[r];if(i){s=i,u=c;break}}}if(s)break;!a&&g&&g[r]&&(a=g[r],f=c)}!s&&a&&(s=a,u=f),s&&(n.splice(0,u,s),e=n.join("/"))}return e}function g(t,n){return function(){return s.apply(e,p.call(arguments,0).concat([t,n]))}}function y(e){return function(t){return m(t,e)}}function b(e){return function(t){a[e]=t}}function w(t){if(v(f,t)){var r=f[t];delete f[t],c[t]=!0,n.apply(e,r)}if(!v(a,t)&&!v(c,t))throw new Error("No "+t);return a[t]}function E(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function S(e){return function(){return l&&l.config&&l.config[e]||{}}}var n,s,o,u,a={},f={},l={},c={},h=Object.prototype.hasOwnProperty,p=[].slice,d=/\.js$/;o=function(e,t){var n,r=E(e),i=r[0];return e=r[1],i&&(i=m(i,t),n=w(i)),i?n&&n.normalize?e=n.normalize(e,y(t)):e=m(e,t):(e=m(e,t),r=E(e),i=r[0],e=r[1],i&&(n=w(i))),{f:i?i+"!"+e:e,n:e,pr:i,p:n}},u={require:function(e){return g(e)},exports:function(e){var t=a[e];return typeof t!="undefined"?t:a[e]={}},module:function(e){return{id:e,uri:"",exports:a[e],config:S(e)}}},n=function(t,n,r,i){var s,l,h,p,d,m=[],y=typeof r,E;i=i||t;if(y==="undefined"||y==="function"){n=!n.length&&r.length?["require","exports","module"]:n;for(d=0;d<n.length;d+=1){p=o(n[d],i),l=p.f;if(l==="require")m[d]=u.require(t);else if(l==="exports")m[d]=u.exports(t),E=!0;else if(l==="module")s=m[d]=u.module(t);else if(v(a,l)||v(f,l)||v(c,l))m[d]=w(l);else{if(!p.p)throw new Error(t+" missing "+l);p.p.load(p.n,g(i,!0),b(l),{}),m[d]=a[l]}}h=r?r.apply(a[t],m):undefined;if(t)if(s&&s.exports!==e&&s.exports!==a[t])a[t]=s.exports;else if(h!==e||!E)a[t]=h}else t&&(a[t]=r)},r=i=s=function(t,r,i,a,f){if(typeof t=="string")return u[t]?u[t](r):w(o(t,r).f);if(!t.splice){l=t,l.deps&&s(l.deps,l.callback);if(!r)return;r.splice?(t=r,r=i,i=null):t=e}return r=r||function(){},typeof i=="function"&&(i=a,a=f),a?n(e,t,r,i):setTimeout(function(){n(e,t,r,i)},4),s},s.config=function(e){return s(e)},r._defined=a,t=function(e,t,n){t.splice||(n=t,t=[]),!v(a,e)&&!v(f,e)&&(f[e]=[e,t,n])},t.amd={jQuery:!0}})(),t("../vendor/almond/almond",function(){}),t("blade/core",["require","exports"],function(e,t){var n={VERSION:"0.9.0"};return n}),t("blade/Euclidean2",["require","exports"],function(e,t){function r(e,t,n,r,i,s,o,u){return e=+e,t=+t,n=+n,r=+r,i=+i,s=+s,o=+o,u=+u,+(e+i)}function i(e,t,n,r,i,s,o,u){return e=+e,t=+t,n=+n,r=+r,i=+i,s=+s,o=+o,u=+u,+(t+s)}function s(e,t,n,r,i,s,o,u){return e=+e,t=+t,n=+n,r=+r,i=+i,s=+s,o=+o,u=+u,+(n+o)}function o(e,t,n,r,i,s,o,u){return e=+e,t=+t,n=+n,r=+r,i=+i,s=+s,o=+o,u=+u,+(r+u)}function u(e,t,n,r,i,s,o,u,a){e=+e,t=+t,n=+n,r=+r,i=+i,s=+s,o=+o,u=+u,a|=0;var f=0;switch(~~a){case 0:f=+(e+i);break;case 1:f=+(t+s);break;case 2:f=+(n+o);break;case 3:f=+(r+u);break;default:}return+f}function a(e,t,n,r,i,s,o,u,a){e=+e,t=+t,n=+n,r=+r,i=+i,s=+s,o=+o,u=+u,a|=0;var f=0;switch(~~a){case 0:f=+(e-i);break;case 1:f=+(t-s);break;case 2:f=+(n-o);break;case 3:f=+(r-u);break;default:}return+f}function f(e,t,n,r,i,s,o,u,a){e=+e,t=+t,n=+n,r=+r,i=+i,s=+s,o=+o,u=+u,a|=0;var f=0;switch(~~a){case 0:f=+(e*i+t*s+n*o-r*u);break;case 1:f=+(e*s+t*i-n*u+r*o);break;case 2:f=+(e*o+t*u+n*i-r*s);break;case 3:f=+(e*u+t*o-n*s+r*i);break;default:}return+f}function l(e,t,n,r,i,s,o,u,a){e=+e,t=+t,n=+n,r=+r,i=+i,s=+s,o=+o,u=+u,a|=0;var f=0;switch(~~a){case 0:f=+(e*i);break;case 1:f=+(e*s+t*i);break;case 2:f=+(e*o+n*i);break;case 3:f=+(e*u+t*o-n*s+r*i);break;default:}return+f}function c(e,t,n,r,i,s,o,u,a){e=+e,t=+t,n=+n,r=+r,i=+i,s=+s,o=+o,u=+u,a|=0;var f=0;switch(~~a){case 0:f=+(e*i+t*s+n*o-r*u);break;case 1:f=+(e*s-n*u);break;case 2:f=+(e*o+t*u);break;case 3:f=+(e*u);break;default:}return+f}function h(e,t,n,r,i,s,o,u,a){e=+e,t=+t,n=+n,r=+r,i=+i,s=+s,o=+o,u=+u,a|=0;var f=0;switch(~~a){case 0:f=+(e*i+t*s+n*o-r*u);break;case 1:f=+(-t*i-r*o);break;case 2:f=+(-n*i+r*s);break;case 3:f=+(r*i);break;default:}return+f}function p(e,t){var n,r,i,s,o=[],u=function(e,t){var n;e!==0&&(e>=0?o.length>0&&o.push("+"):o.push("-"),n=Math.abs(e),n===1?o.push(t):(o.push(n.toString()),t!=="1"&&(o.push("*"),o.push(t))))};for(n=r=0,i=e.length-1;0<=i?r<=i:r>=i;n=0<=i?++r:--r)u(e[n],t[n]);return o.length>0?s=o.join(""):s="0",s}var n=function(){function e(e,t,n,r){this.w=e||0,this.x=t,this.y=n,this.xy=r}return e.prototype.fromCartesian=function(t,n,r,i){return new e(t,n,r,i)},e.prototype.fromPolar=function(t,n,r,i){return new e(t,n*Math.cos(r),n*Math.sin(r),i)},e.prototype.coordinates=function(){return[this.w,this.x,this.y,this.xy]},e.prototype.coordinate=function(e){switch(e){case 0:return this.w;case 1:return this.x;case 2:return this.y;case 3:return this.xy;default:throw new Error("index must be in the range [0..3]")}},e.add=function(e,t){var n,u,a,f,l,c,h,p,d,v,m,g;return n=e[0],u=e[1],a=e[2],f=e[3],l=t[0],c=t[1],h=t[2],p=t[3],d=r(n,u,a,f,l,c,h,p),v=i(n,u,a,f,l,c,h,p),m=s(n,u,a,f,l,c,h,p),g=o(n,u,a,f,l,c,h,p),[d,v,m,g]},e.prototype.add=function(t){var n;return n=e.add(this.coordinates(),t.coordinates()),new e(n[0],n[1],n[2],n[3])},e.sub=function(e,t){var n,r,i,s,o,u,f,l,c,h,p,d;return n=e[0],r=e[1],i=e[2],s=e[3],o=t[0],u=t[1],f=t[2],l=t[3],c=a(n,r,i,s,o,u,f,l,0),h=a(n,r,i,s,o,u,f,l,1),p=a(n,r,i,s,o,u,f,l,2),d=a(n,r,i,s,o,u,f,l,3),[c,h,p,d]},e.prototype.sub=function(t){var n;return n=e.sub(this.coordinates(),t.coordinates()),new e(n[0],n[1],n[2],n[3])},e.mul=function(e,t){var n,r,i,s,o,u,a,l,c,h,p,d;return n=e[0],r=e[1],i=e[2],s=e[3],o=t[0],u=t[1],a=t[2],l=t[3],c=f(n,r,i,s,o,u,a,l,0),h=f(n,r,i,s,o,u,a,l,1),p=f(n,r,i,s,o,u,a,l,2),d=f(n,r,i,s,o,u,a,l,3),[c,h,p,d]},e.prototype.mul=function(t){var n;return typeof t=="number"?new e(this.w*t,this.x*t,this.y*t,this.xy*t):(n=e.mul(this.coordinates(),t.coordinates()),new e(n[0],n[1],n[2],n[3]))},e.prototype.div=function(t){return typeof t=="number"?new e(this.w/t,this.x/t,this.y/t,this.xy/t):d(this.w,this.x,this.y,this.xy,t.w,t.x,t.y,t.xy,void 0)},e.wedge=function(e,t){var n,r,i,s,o,u,a,f,c,h,p,d;return n=e[0],r=e[1],i=e[2],s=e[3],o=t[0],u=t[1],a=t[2],f=t[3],c=l(n,r,i,s,o,u,a,f,0),h=l(n,r,i,s,o,u,a,f,1),p=l(n,r,i,s,o,u,a,f,2),d=l(n,r,i,s,o,u,a,f,3),[c,h,p,d]},e.prototype.wedge=function(t){var n;return n=e.wedge(this.coordinates(),t.coordinates()),new e(n[0],n[1],n[2],n[3])},e.lshift=function(e,t){var n,r,i,s,o,u,a,f,l,h,p,d;return n=e[0],r=e[1],i=e[2],s=e[3],o=t[0],u=t[1],a=t[2],f=t[3],l=c(n,r,i,s,o,u,a,f,0),h=c(n,r,i,s,o,u,a,f,1),p=c(n,r,i,s,o,u,a,f,2),d=c(n,r,i,s,o,u,a,f,3),[l,h,p,d]},e.prototype.lshift=function(t){var n;return n=e.lshift(this.coordinates(),t.coordinates()),new e(n[0],n[1],n[2],n[3])},e.rshift=function(e,t){var n,r,i,s,o,u,a,f,l,c,p,d;return n=e[0],r=e[1],i=e[2],s=e[3],o=t[0],u=t[1],a=t[2],f=t[3],l=h(n,r,i,s,o,u,a,f,0),c=h(n,r,i,s,o,u,a,f,1),p=h(n,r,i,s,o,u,a,f,2),d=h(n,r,i,s,o,u,a,f,3),[l,c,p,d]},e.prototype.rshift=function(t){var n;return n=e.rshift(this.coordinates(),t.coordinates()),new e(n[0],n[1],n[2],n[3])},e.prototype.grade=function(t){switch(t){case 0:return new e(this.w,0,0,0);case 1:return new e(0,this.x,this.y,0);case 2:return new e(0,0,0,this.xy);default:return new e(0,0,0,0)}},e.prototype.norm=function(){var t,n,r,i;return t=this.w,n=this.x,i=this.y,r=this.xy,new e(Math.sqrt(t*t+n*n+i*i+r*r),0,0,0)},e.prototype.quad=function(){var t,n,r,i;return t=this.w,n=this.x,i=this.y,r=this.xy,new e(t*t+n*n+i*i+r*r,0,0,0)},e.prototype.isNaN=function(){return isNaN(this.w)||isNaN(this.x)||isNaN(this.y)||isNaN(this.xy)},e.prototype.toString=function(){return p([this.w,this.x,this.y,this.xy],["1","e1","e2","e12"])},e.prototype.toStringIJK=function(){return p(this.coordinates(),["1","i","j","I"])},e.prototype.toStringLATEX=function(){return p(this.coordinates(),["1","e_{1}","e_{2}","e_{12}"])},e}(),d=function(e,t,r,i,s,o,u,a,f){var l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A,O,M,_,D,P;return x=+s,T=+o,N=+u,C=-a,b=s*x+o*T+u*N-a*C,w=0,E=0,S=0,l=+b,c=-w,h=-E,p=-S,k=x*l+T*c+N*h-C*p,L=x*c+T*l-N*p+C*h,A=x*h+T*p+N*l-C*c,O=x*p+T*h-N*c+C*l,y=s*k+o*L+u*A-a*O,d=k/y,v=L/y,m=A/y,g=O/y,M=e*d+t*v+r*m-i*g,_=e*v+t*d-r*g+i*m,D=e*m+t*g+r*d-i*v,P=e*g+t*m-r*v+i*d,typeof f!="undefined"?(f.w=M,f.x=_,f.y=D,f.xy=P):new n(M,_,D,P)};return n}),t("blade/Euclidean3",["require","exports"],function(e,t){function i(e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m){e=+e,t=+t,n=+n,r=+r,i=+i,s=+s,o=+o,u=+u,a=+a,f=+f,l=+l,c=+c,h=+h,p=+p,d=+d,v=+v,m|=0;var g=0;switch(~~m){case 0:g=+(e+a);break;case 1:g=+(t+f);break;case 2:g=+(n+l);break;case 3:g=+(r+c);break;case 4:g=+(i+h);break;case 5:g=+(s+p);break;case 6:g=+(o+d);break;case 7:g=+(u+v);break;default:}return+g}function s(e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m){e=+e,t=+t,n=+n,r=+r,i=+i,s=+s,o=+o,u=+u,a=+a,f=+f,l=+l,c=+c,h=+h,p=+p,d=+d,v=+v,m|=0;var g=0;switch(~~m){case 0:g=+(e-a);break;case 1:g=+(t-f);break;case 2:g=+(n-l);break;case 3:g=+(r-c);break;case 4:g=+(i-h);break;case 5:g=+(s-p);break;case 6:g=+(o-d);break;case 7:g=+(u-v);break;default:}return+g}function o(e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m){e=+e,t=+t,n=+n,r=+r,i=+i,s=+s,o=+o,u=+u,a=+a,f=+f,l=+l,c=+c,h=+h,p=+p,d=+d,v=+v,m|=0;var g=0;switch(~~m){case 0:g=+(e*a+t*f+n*l+r*c-i*h-s*p-o*d-u*v);break;case 1:g=+(e*f+t*a-n*h+r*d+i*l-s*v-o*c-u*p);break;case 2:g=+(e*l+t*h+n*a-r*p-i*f+s*c-o*v-u*d);break;case 3:g=+(e*c-t*d+n*p+r*a-i*v-s*l+o*f-u*h);break;case 4:g=+(e*h+t*l-n*f+r*v+i*a-s*d+o*p+u*c);break;case 5:g=+(e*p+t*v+n*c-r*l+i*d+s*a-o*h+u*f);break;case 6:g=+(e*d-t*c+n*v+r*f-i*p+s*h+o*a+u*l);break;case 7:g=+(e*v+t*p+n*d+r*h+i*c+s*f+o*l+u*a);break;default:}return+g}function u(e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m){e=+e,t=+t,n=+n,r=+r,i=+i,s=+s,o=+o,u=+u,a=+a,f=+f,l=+l,c=+c,h=+h,p=+p,d=+d,v=+v,m|=0;var g=0;switch(~~m){case 0:g=+(e*a);break;case 1:g=+(e*f+t*a);break;case 2:g=+(e*l+n*a);break;case 3:g=+(e*c+r*a);break;case 4:g=+(e*h+t*l-n*f+i*a);break;case 5:g=+(e*p+n*c-r*l+s*a);break;case 6:g=+(e*d-t*c+r*f+o*a);break;case 7:g=+(e*v+t*p+n*d+r*h+i*c+s*f+o*l+u*a);break;default:}return+g}function a(e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m){e=+e,t=+t,n=+n,r=+r,i=+i,s=+s,o=+o,u=+u,a=+a,f=+f,l=+l,c=+c,h=+h,p=+p,d=+d,v=+v,m|=0;var g=0;switch(~~m){case 0:g=+(e*a+t*f+n*l+r*c-i*h-s*p-o*d-u*v);break;case 1:g=+(e*f-n*h+r*d-s*v);break;case 2:g=+(e*l+t*h-r*p-o*v);break;case 3:g=+(e*c-t*d+n*p-i*v);break;case 4:g=+(e*h+r*v);break;case 5:g=+(e*p+t*v);break;case 6:g=+(e*d+n*v);break;case 7:g=+(e*v);break;default:}return+g}function f(e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m){e=+e,t=+t,n=+n,r=+r,i=+i,s=+s,o=+o,u=+u,a=+a,f=+f,l=+l,c=+c,h=+h,p=+p,d=+d,v=+v,m|=0;var g=0;switch(~~m){case 0:g=+(e*a+t*f+n*l+r*c-i*h-s*p-o*d-u*v);break;case 1:g=+(+t*a+i*l-o*c-u*p);break;case 2:g=+(+n*a-i*f+s*c-u*d);break;case 3:g=+(+r*a-s*l+o*f-u*h);break;case 4:g=+(+i*a+u*c);break;case 5:g=+(+s*a+u*f);break;case 6:g=+(+o*a+u*l);break;case 7:g=+(+u*a);break;default:}return+g}function c(e,t){var n,r,i,s,o=[],u=function(e,t){var n;e!==0&&(e>=0?o.length>0&&o.push("+"):o.push("-"),n=Math.abs(e),n===1?o.push(t):(o.push(n.toString()),t!=="1"&&(o.push("*"),o.push(t))))};for(n=r=0,i=e.length-1;0<=i?r<=i:r>=i;n=0<=i?++r:--r)u(e[n],t[n]);return o.length>0?s=o.join(""):s="0",s}var n=function(){function e(e,t,n,r,i,s,o,u){this.w=e||0,this.x=t||0,this.y=n||0,this.z=r||0,this.xy=i||0,this.yz=s||0,this.zx=o||0,this.xyz=u||0}return e.fromCartesian=function(t,n,r,i,s,o,u,a){return new e(t,n,r,i,s,o,u,a)},e.prototype.coordinates=function(){return[this.w,this.x,this.y,this.z,this.xy,this.yz,this.zx,this.xyz]},e.prototype.coordinate=function(e){switch(e){case 0:return this.w;case 1:return this.x;case 2:return this.y;case 3:return this.z;case 4:return this.xy;case 5:return this.yz;case 6:return this.zx;case 7:return this.xyz;default:throw new Error("index must be in the range [0..7]")}},e.prototype.add=function(t){var n,s;return n=function(e,t){return e[t]},s=function(t,n,r,i,s,o,u,a){return e.fromCartesian(t,n,r,i,s,o,u,a)},r(i,[this.w,this.x,this.y,this.z,this.xy,this.yz,this.zx,this.xyz],[t.w,t.x,t.y,t.z,t.xy,t.yz,t.zx,t.xyz],n,s)},e.prototype.sub=function(t){var n,i;return n=function(e,t){return e[t]},i=function(t,n,r,i,s,o,u,a){return e.fromCartesian(t,n,r,i,s,o,u,a)},r(s,[this.w,this.x,this.y,this.z,this.xy,this.yz,this.zx,this.xyz],[t.w,t.x,t.y,t.z,t.xy,t.yz,t.zx,t.xyz],n,i)},e.prototype.mul=function(t){var n,i;return typeof t=="number"?new e(this.w*t,this.x*t,this.y*t,this.z*t,this.xy*t,this.yz*t,this.zx*t,this.xyz*t):(n=function(e,t){return e[t]},i=function(t,n,r,i,s,o,u,a){return e.fromCartesian(t,n,r,i,s,o,u,a)},r(o,[this.w,this.x,this.y,this.z,this.xy,this.yz,this.zx,this.xyz],[t.w,t.x,t.y,t.z,t.xy,t.yz,t.zx,t.xyz],n,i))},e.prototype.div=function(t){return typeof t=="number"?new e(this.w/t,this.x/t,this.y/t,this.z/t,this.xy/t,this.yz/t,this.zx/t,this.xyz/t):l(this.w,this.x,this.y,this.xy,this.z,-this.zx,this.yz,this.xyz,t.w,t.x,t.y,t.xy,t.z,-t.zx,t.yz,t.xyz,void 0)},e.prototype.wedge=function(t){var n,i;return n=function(e,t){return e[t]},i=function(t,n,r,i,s,o,u,a){return e.fromCartesian(t,n,r,i,s,o,u,a)},r(u,[this.w,this.x,this.y,this.z,this.xy,this.yz,this.zx,this.xyz],[t.w,t.x,t.y,t.z,t.xy,t.yz,t.zx,t.xyz],n,i)},e.prototype.lshift=function(t){var n,i;return n=function(e,t){return e[t]},i=function(t,n,r,i,s,o,u,a){return e.fromCartesian(t,n,r,i,s,o,u,a)},r(a,[this.w,this.x,this.y,this.z,this.xy,this.yz,this.zx,this.xyz],[t.w,t.x,t.y,t.z,t.xy,t.yz,t.zx,t.xyz],n,i)},e.prototype.rshift=function(t){var n,i;return n=function(e,t){return e[t]},i=function(t,n,r,i,s,o,u,a){return e.fromCartesian(t,n,r,i,s,o,u,a)},r(f,[this.w,this.x,this.y,this.z,this.xy,this.yz,this.zx,this.xyz],[t.w,t.x,t.y,t.z,t.xy,t.yz,t.zx,t.xyz],n,i)},e.prototype.grade=function(t){switch(t){case 0:return e.fromCartesian(this.w,0,0,0,0,0,0,0);case 1:return e.fromCartesian(0,this.x,this.y,this.z,0,0,0,0);case 2:return e.fromCartesian(0,0,0,0,this.xy,this.yz,this.zx,0);case 3:return e.fromCartesian(0,0,0,0,0,0,0,this.xyz);default:return e.fromCartesian(0,0,0,0,0,0,0,0)}},e.prototype.dot=function(e){return this.x*e.x+this.y*e.y+this.z*e.z},e.prototype.cross=function(t){var n,r,i,s,o,u,a,f,l;return r=this.x,o=this.y,f=this.z,i=t.x,u=t.y,l=t.z,n=o*l-f*u,s=f*i-r*l,a=r*u-o*i,new e(0,n,s,a,0,0,0,0)},e.prototype.length=function(){return Math.sqrt(this.w*this.w+this.x*this.x+this.y*this.y+this.z*this.z+this.xy*this.xy+this.yz*this.yz+this.zx*this.zx+this.xyz*this.xyz)},e.prototype.norm=function(){return new e(Math.sqrt(this.w*this.w+this.x*this.x+this.y*this.y+this.z*this.z+this.xy*this.xy+this.yz*this.yz+this.zx*this.zx+this.xyz*this.xyz),0,0,0,0,0,0,0)},e.prototype.quad=function(){return new e(this.w*this.w+this.x*this.x+this.y*this.y+this.z*this.z+this.xy*this.xy+this.yz*this.yz+this.zx*this.zx+this.xyz*this.xyz,0,0,0,0,0,0,0)},e.prototype.sqrt=function(){return new e(Math.sqrt(this.w),0,0,0,0,0,0,0)},e.prototype.toString=function(){return c([this.w,this.x,this.y,this.z,this.xy,this.yz,this.zx,this.xyz],["1","e1","e2","e3","e12","e23","e31","e123"])},e.prototype.toStringIJK=function(){return c([this.w,this.x,this.y,this.z,this.xy,this.yz,this.zx,this.xyz],["1","i","j","k","ij","jk","ki","I"])},e.prototype.toStringLATEX=function(){return c([this.w,this.x,this.y,this.z,this.xy,this.yz,this.zx,this.xyz],["1","e_{1}","e_{2}","e_{3}","e_{12}","e_{23}","e_{31}","e_{123}"])},e}(),r=function(e,t,n,r,i){var s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L;return s=r(t,0),o=r(t,1),u=r(t,2),a=r(t,3),f=r(t,4),l=r(t,5),c=r(t,6),h=r(t,7),p=r(n,0),d=r(n,1),v=r(n,2),m=r(n,3),g=r(n,4),y=r(n,5),b=r(n,6),w=r(n,7),E=e(s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,0),S=e(s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,1),x=e(s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,2),T=e(s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,3),N=e(s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,4),C=e(s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,5),k=e(s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,6),L=e(s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,7),i(E,S,x,T,N,C,k,L)},l=function(e,t,r,i,s,u,a,f,l,c,h,p,d,v,m,g,y){var b,w,E,S,x,T,N,C,k,L,A,O,M,_,D,P,H,B,j,F,I,q,R,U,z,W,X,V,$,J,K,Q,G,Y,Z,et,tt,nt,rt,it,st,ot,ut,at,ft,lt,ct,ht,pt,dt,vt,mt,gt,yt,bt,wt,Et;return W=+l,X=+c,V=+h,$=-p,J=+d,K=-v,Q=-m,G=-g,B=o(l,c,h,d,p,m,-v,g,W,X,V,J,$,Q,-K,G,0),j=o(l,c,h,d,p,m,-v,g,W,X,V,J,$,Q,-K,G,1),F=o(l,c,h,d,p,m,-v,g,W,X,V,J,$,Q,-K,G,2),I=0,q=o(l,c,h,d,p,m,-v,g,W,X,V,J,$,Q,-K,G,3),R=0,U=0,z=0,b=+B,w=-j,E=-F,S=-I,x=-q,T=-R,N=-U,C=+z,Y=o(W,X,V,J,$,Q,-K,G,b,w,E,x,S,N,-T,C,0),Z=o(W,X,V,J,$,Q,-K,G,b,w,E,x,S,N,-T,C,1),et=o(W,X,V,J,$,Q,-K,G,b,w,E,x,S,N,-T,C,2),tt=o(W,X,V,J,$,Q,-K,G,b,w,E,x,S,N,-T,C,4),nt=o(W,X,V,J,$,Q,-K,G,b,w,E,x,S,N,-T,C,3),rt=-o(W,X,V,J,$,Q,-K,G,b,w,E,x,S,N,-T,C,6),it=o(W,X,V,J,$,Q,-K,G,b,w,E,x,S,N,-T,C,5),st=o(W,X,V,J,$,Q,-K,G,b,w,E,x,S,N,-T,C,7),H=o(l,c,h,d,p,m,-v,g,Y,Z,et,nt,tt,it,-rt,st,0),k=Y/H,L=Z/H,A=et/H,O=tt/H,M=nt/H,_=rt/H,D=it/H,P=st/H,at=o(e,t,r,s,i,a,-u,f,k,L,A,M,O,D,-_,P,0),ft=o(e,t,r,s,i,a,-u,f,k,L,A,M,O,D,-_,P,1),lt=o(e,t,r,s,i,a,-u,f,k,L,A,M,O,D,-_,P,2),ct=o(e,t,r,s,i,a,-u,f,k,L,A,M,O,D,-_,P,4),ht=o(e,t,r,s,i,a,-u,f,k,L,A,M,O,D,-_,P,3),pt=-o(e,t,r,s,i,a,-u,f,k,L,A,M,O,D,-_,P,6),dt=o(e,t,r,s,i,a,-u,f,k,L,A,M,O,D,-_,P,5),vt=o(e,t,r,s,i,a,-u,f,k,L,A,M,O,D,-_,P,7),ot=at,ut=ft,yt=lt,wt=ht,mt=ct,bt=dt,Et=-pt,gt=vt,typeof y!="undefined"?(y.w=ot,y.x=ut,y.y=yt,y.z=wt,y.xy=mt,y.yz=bt,y.zx=Et,y.xyz=gt):new n(ot,ut,yt,wt,mt,bt,Et,gt)};return n}),t("blade/Rational",["require","exports"],function(e,t){var n=function(){function e(e,t){var n,r=function(e,t){var n;e<0&&(e=-e),t<0&&(t=-t),t>e&&(n=e,e=t,t=n);for(;;){e%=t;if(e===0)return t;t%=e;if(t===0)return e}};if(t===0)throw new Error("denominator must not be zero");e===0?n=1:n=r(Math.abs(e),Math.abs(t)),t<0&&(e=-e,t=-t),this._numer=e/n,this._denom=t/n}return Object.defineProperty(e.prototype,"numer",{get:function(){return this._numer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"denom",{get:function(){return this._denom},enumerable:!0,configurable:!0}),e.prototype.add=function(t){return typeof t=="number"?new e(this._numer+this._denom*t,this._denom):new e(this._numer*t._denom+this._denom*t._numer,this._denom*t._denom)},e.prototype.sub=function(t){return typeof t=="number"?new e(this._numer-this._denom*t,this._denom):new e(this._numer*t._denom-this._denom*t._numer,this._denom*t._denom)},e.prototype.mul=function(t){return typeof t=="number"?new e(this._numer*t,this._denom):new e(this._numer*t._numer,this._denom*t._denom)},e.prototype.div=function(t){return typeof t=="number"?new e(this._numer,this._denom*t):new e(this._numer*t._denom,this._denom*t._numer)},e.prototype.isZero=function(){return this._numer===0},e.prototype.negative=function(){return new e(-this._numer,this._denom)},e.prototype.equals=function(t){return t instanceof e?this._numer*t._denom===this._denom*t._numer:!1},e.prototype.toString=function(){return""+this._numer+"/"+this._denom},e.ONE=new e(1,1),e.MINUS_ONE=new e(-1,1),e.ZERO=new e(0,1),e}();return n}),t("blade/Dimensions",["require","exports","blade/Rational"],function(e,t,n){var r=function(){function e(e,t,r,i,s,o,u){this.L=t,this.T=r,this.Q=i,this.temperature=s,this.amount=o,this.intensity=u;var a=t,f=r,l=i;if(arguments.length!==7)throw{name:"DimensionError",message:"Expecting 7 arguments"};if(typeof e=="number")this._mass=new n(e,1);else{if(!(e instanceof n))throw{name:"DimensionError",message:"mass must be a Rational or number"};this._mass=e}if(typeof a=="number")this.L=new n(a,1);else{if(!(a instanceof n))throw{name:"DimensionError",message:"length must be a Rational or number"};this.L=a}if(typeof f=="number")this.T=new n(f,1);else{if(!(f instanceof n))throw{name:"DimensionError",message:"time must be a Rational or number"};this.T=f}if(typeof l=="number")this.Q=new n(l,1);else{if(!(l instanceof n))throw{name:"DimensionError",message:"charge must be a Rational or number"};this.Q=l}if(typeof s=="number")this.temperature=new n(s,1);else{if(!(s instanceof n))throw{name:"DimensionError",message:"(thermodynamic) temperature must be a Rational or number"};this.temperature=s}if(typeof o=="number")this.amount=new n(o,1);else{if(!(o instanceof n))throw{name:"DimensionError",message:"amount (of substance) must be a Rational or number"};this.amount=o}if(typeof u=="number")this.intensity=new n(u,1);else{if(!(u instanceof n))throw{name:"DimensionError",message:"(luminous) intensity must be a Rational or number"};this.intensity=u}}return Object.defineProperty(e.prototype,"M",{get:function(){return this._mass},enumerable:!0,configurable:!0}),e.prototype.compatible=function(e){if(this._mass.equals(e._mass)&&this.L.equals(e.L)&&this.T.equals(e.T)&&this.Q.equals(e.Q)&&this.temperature.equals(e.temperature)&&this.amount.equals(e.amount)&&this.intensity.equals(e.intensity))return this;throw{name:"DimensionError",message:"Dimensions must be equal ("+this+", "+e+")"}},e.prototype.mul=function(t){return new e(this._mass.add(t._mass),this.L.add(t.L),this.T.add(t.T),this.Q.add(t.Q),this.temperature.add(t.temperature),this.amount.add(t.amount),this.intensity.add(t.intensity))},e.prototype.div=function(t){return new e(this._mass.sub(t._mass),this.L.sub(t.L),this.T.sub(t.T),this.Q.sub(t.Q),this.temperature.sub(t.temperature),this.amount.sub(t.amount),this.intensity.sub(t.intensity))},e.prototype.pow=function(t){return new e(this._mass.mul(t),this.L.mul(t),this.T.mul(t),this.Q.mul(t),this.temperature.mul(t),this.amount.mul(t),this.intensity.mul(t))},e.prototype.dimensionless=function(){return this._mass.isZero()&&this.L.isZero()&&this.T.isZero()&&this.Q.isZero()&&this.temperature.isZero()&&this.amount.isZero()&&this.intensity.isZero()},e.prototype.isZero=function(){return this._mass.isZero()&&this.L.isZero()&&this.T.isZero()&&this.Q.isZero()&&this.temperature.isZero()&&this.amount.isZero()&&this.intensity.isZero()},e.prototype.negative=function(){return new e(this._mass.negative(),this.L.negative(),this.T.negative(),this.Q.negative(),this.temperature.negative(),this.amount.negative(),this.intensity.negative())},e.prototype.toString=function(){var e=function(e,t){return e.numer===0?null:e.denom===1?e.numer===1?""+t:""+t+" ** "+e.numer:""+t+" ** "+e};return[e(this._mass,"mass"),e(this.L,"length"),e(this.T,"time"),e(this.Q,"charge"),e(this.temperature,"thermodynamic temperature"),e(this.amount,"amount of substance"),e(this.intensity,"luminous intensity")].filter(function(e){return typeof e=="string"}).join(" * ")},e}();return r}),t("blade/Unit",["require","exports"],function(e,t){var n=function(){function e(e,t,n){this.scale=e,this.dimensions=t,this.labels=n;if(n.length!==7)throw new Error("Expecting 7 elements in the labels array.");this.scale=e,this.dimensions=t,this.labels=n}return e.prototype.compatible=function(t){var n;if(t instanceof e)return n=this.dimensions.compatible(t.dimensions),this;throw new Error("Illegal Argument for Unit.compatible: "+t)},e.prototype.add=function(t){if(t instanceof e)return new e(this.scale+t.scale,this.dimensions.compatible(t.dimensions),this.labels);throw new Error("Illegal Argument for Unit.add: "+t)},e.prototype.sub=function(t){if(t instanceof e)return new e(this.scale-t.scale,this.dimensions.compatible(t.dimensions),this.labels);throw new Error("Illegal Argument for Unit.sub: "+t)},e.prototype.mul=function(t){if(typeof t=="number")return new e(this.scale*t,this.dimensions,this.labels);if(t instanceof e)return new e(this.scale*t.scale,this.dimensions.mul(t.dimensions),this.labels);throw new Error("Illegal Argument for mul: "+t)},e.prototype.div=function(t){if(typeof t=="number")return new e(this.scale/t,this.dimensions,this.labels);if(t instanceof e)return new e(this.scale/t.scale,this.dimensions.div(t.dimensions),this.labels);throw new Error("Illegal Argument for div: "+t)},e.prototype.pow=function(t){if(typeof t=="number")return new e(Math.pow(this.scale,t),this.dimensions.pow(t),this.labels);throw new Error("Illegal Argument for div: "+t)},e.prototype.inverse=function(){return new e(1/this.scale,this.dimensions.negative(),this.labels)},e.prototype.toString=function(){var e,t,n,r=function(e,t){return e.numer===0?null:e.denom===1?e.numer===1?""+t:""+t+" ** "+e.numer:""+t+" ** "+e};return e=this.scale===1||this.dimensions.isZero()?"":" ",t=this.scale===1?"":""+this.scale,n=[r(this.dimensions.M,this.labels[0]),r(this.dimensions.L,this.labels[1]),r(this.dimensions.T,this.labels[2]),r(this.dimensions.Q,this.labels[3]),r(this.dimensions.temperature,this.labels[4]),r(this.dimensions.amount,this.labels[5]),r(this.dimensions.intensity,this.labels[6])].filter(function(e){return typeof e=="string"}).join(" "),""+t+e+n},e}();return n}),t("blade/Measure",["require","exports","blade/Unit"],function(e,t,n){var r=function(){function e(e,t){t.scale===1?(this.quantity=e,this.uom=t):(this.quantity=e.mul(t.scale),this.uom=new n(1,t.dimensions,t.labels))}return e.prototype.add=function(t){if(t instanceof e)return new e(this.quantity.add(t.quantity),this.uom.compatible(t.uom));throw new Error("Measure.add(rhs): rhs must be a Measure.")},e.prototype.sub=function(t){if(t instanceof e)return new e(this.quantity.sub(t.quantity),this.uom.compatible(t.uom));throw new Error("Measure.sub(rhs): rhs must be a Measure.")},e.prototype.mul=function(t){if(t instanceof e)return new e(this.quantity.mul(t.quantity),this.uom.mul(t.uom));if(t instanceof n)return new e(this.quantity,this.uom.mul(t));if(typeof t=="number")return new e(this.quantity.mul(t),this.uom);throw new Error("Measure.mul(rhs): rhs must be a [Measure, Unit, number]")},e.prototype.div=function(t){if(t instanceof e)return new e(this.quantity.div(t.quantity),this.uom.div(t.uom));if(t instanceof n)return new e(this.quantity,this.uom.div(t));if(typeof t=="number")return new e(this.quantity.div(t),this.uom);throw new Error("Measure.div(rhs): rhs must be a [Measure, Unit, number]")},e.prototype.wedge=function(t){if(t instanceof e)return new e(this.quantity.wedge(t.quantity),this.uom.mul(t.uom));throw new Error("Measure.wedge(rhs): rhs must be a Measure")},e.prototype.lshift=function(t){if(t instanceof e)return new e(this.quantity.lshift(t.quantity),this.uom.mul(t.uom));throw new Error("Measure.lshift(rhs): rhs must be a Measure")},e.prototype.rshift=function(t){if(t instanceof e)return new e(this.quantity.rshift(t.quantity),this.uom.mul(t.uom));throw new Error("Measure.rshift(rhs): rhs must be a Measure")},e.prototype.norm=function(){return null},e.prototype.quad=function(){return null},e.prototype.toString=function(){return""+this.quantity+" "+this.uom},e}();return r}),t("blade",["require","exports","blade/core","blade/Euclidean2","blade/Euclidean3","blade/Rational","blade/Dimensions","blade/Unit","blade/Measure"],function(e,t,n,r,i,s,o,u,a){var f=["kg","m","s","C","K","mol","cd"],l=s.ZERO,c=s.ONE,h=s.MINUS_ONE,p=new u(1,new o(l,l,l,l,l,l,l),f),d=new u(1,new o(c,l,l,l,l,l,l),f),v=new u(1,new o(l,c,l,l,l,l,l),f),m=new u(1,new o(l,l,c,l,l,l,l),f),g=new u(1,new o(l,l,h,c,l,l,l),f),y=new u(1,new o(l,l,l,l,c,l,l),f),b=new u(1,new o(l,l,l,l,l,c,l),f),w=new u(1,new o(l,l,l,l,l,l,c),f),E=new u(1,new o(l,l,l,c,l,l,l),f),S=new u(.0254,new o(l,c,l,l,l,l,l),f),x=new u(.3048,new o(l,c,l,l,l,l,l),f),T=new u(.9144,new o(l,c,l,l,l,l,l),f),N=new u(1609.344,new o(l,c,l,l,l,l,l),f),C=new u(.45359237,new o(c,l,l,l,l,l,l),f),k={VERSION:n.VERSION,Euclidean2:r,Euclidean3:i,Rational:s,Dimensions:o,Unit:u,Measure:a,UNIT_DIMLESS:p,UNIT_KILOGRAM:d,UNIT_METER:v,UNIT_SECOND:m,UNIT_AMPERE:g,UNIT_KELVIN:y,UNIT_MOLE:b,UNIT_CANDELA:w,UNIT_COULOMB:E,UNIT_INCH:S,UNIT_FOOT:x,UNIT_YARD:T,UNIT_MILE:N,UNIT_POUND:C};return k});var s=i("blade");typeof module!="undefined"&&module.exports?module.exports=s:n?function(e){e(function(){return s})}(n):e.blade=s})(this);