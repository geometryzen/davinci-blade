!function(a,b){var c,d,b,e=a.define;!function(a){function e(a,b){return u.call(a,b)}function f(a,b){var c,d,e,f,g,h,i,j,k,l,m,n=b&&b.split("/"),o=s.map,p=o&&o["*"]||{};if(a&&"."===a.charAt(0))if(b){for(a=a.split("/"),g=a.length-1,s.nodeIdCompat&&w.test(a[g])&&(a[g]=a[g].replace(w,"")),a=n.slice(0,n.length-1).concat(a),k=0;k<a.length;k+=1)if(m=a[k],"."===m)a.splice(k,1),k-=1;else if(".."===m){if(1===k&&(".."===a[2]||".."===a[0]))break;k>0&&(a.splice(k-1,2),k-=2)}a=a.join("/")}else 0===a.indexOf("./")&&(a=a.substring(2));if((n||p)&&o){for(c=a.split("/"),k=c.length;k>0;k-=1){if(d=c.slice(0,k).join("/"),n)for(l=n.length;l>0;l-=1)if(e=o[n.slice(0,l).join("/")],e&&(e=e[d])){f=e,h=k;break}if(f)break;!i&&p&&p[d]&&(i=p[d],j=k)}!f&&i&&(f=i,h=j),f&&(c.splice(0,h,f),a=c.join("/"))}return a}function g(b,c){return function(){var d=v.call(arguments,0);return"string"!=typeof d[0]&&1===d.length&&d.push(null),n.apply(a,d.concat([b,c]))}}function h(a){return function(b){return f(b,a)}}function i(a){return function(b){q[a]=b}}function j(b){if(e(r,b)){var c=r[b];delete r[b],t[b]=!0,m.apply(a,c)}if(!e(q,b)&&!e(t,b))throw new Error("No "+b);return q[b]}function k(a){var b,c=a?a.indexOf("!"):-1;return c>-1&&(b=a.substring(0,c),a=a.substring(c+1,a.length)),[b,a]}function l(a){return function(){return s&&s.config&&s.config[a]||{}}}var m,n,o,p,q={},r={},s={},t={},u=Object.prototype.hasOwnProperty,v=[].slice,w=/\.js$/;o=function(a,b){var c,d=k(a),e=d[0];return a=d[1],e&&(e=f(e,b),c=j(e)),e?a=c&&c.normalize?c.normalize(a,h(b)):f(a,b):(a=f(a,b),d=k(a),e=d[0],a=d[1],e&&(c=j(e))),{f:e?e+"!"+a:a,n:a,pr:e,p:c}},p={require:function(a){return g(a)},exports:function(a){var b=q[a];return"undefined"!=typeof b?b:q[a]={}},module:function(a){return{id:a,uri:"",exports:q[a],config:l(a)}}},m=function(b,c,d,f){var h,k,l,m,n,s,u=[],v=typeof d;if(f=f||b,"undefined"===v||"function"===v){for(c=!c.length&&d.length?["require","exports","module"]:c,n=0;n<c.length;n+=1)if(m=o(c[n],f),k=m.f,"require"===k)u[n]=p.require(b);else if("exports"===k)u[n]=p.exports(b),s=!0;else if("module"===k)h=u[n]=p.module(b);else if(e(q,k)||e(r,k)||e(t,k))u[n]=j(k);else{if(!m.p)throw new Error(b+" missing "+k);m.p.load(m.n,g(f,!0),i(k),{}),u[n]=q[k]}l=d?d.apply(q[b],u):void 0,b&&(h&&h.exports!==a&&h.exports!==q[b]?q[b]=h.exports:l===a&&s||(q[b]=l))}else b&&(q[b]=d)},c=d=n=function(b,c,d,e,f){if("string"==typeof b)return p[b]?p[b](c):j(o(b,c).f);if(!b.splice){if(s=b,s.deps&&n(s.deps,s.callback),!c)return;c.splice?(b=c,c=d,d=null):b=a}return c=c||function(){},"function"==typeof d&&(d=e,e=f),e?m(a,b,c,d):setTimeout(function(){m(a,b,c,d)},4),n},n.config=function(a){return n(a)},c._defined=q,b=function(a,b,c){if("string"!=typeof a)throw new Error("See almond README: incorrect module build, no module name");b.splice||(c=b,b=[]),e(q,a)||e(r,a)||(r[a]=[a,b,c])},b.amd={jQuery:!0}}(),b("../vendor/almond/almond",function(){}),b("davinci-blade/core",["require","exports"],function(){function a(a,b){return null!==a&&"object"==typeof a&&"function"==typeof a[b]}function b(b,c){return function(d){if(a(d,b))return d[b]();if("number"==typeof d){var e=d,f=e,g=c(f);return g}throw new TypeError("x must support "+b+"(x)")}}function c(a){return(Math.exp(a)+Math.exp(-a))/2}function d(a){return(Math.exp(a)-Math.exp(-a))/2}var e={VERSION:"1.4.0",cos:b("cos",Math.cos),cosh:b("cosh",c),exp:b("exp",Math.exp),norm:b("norm",function(a){return Math.abs(a)}),quad:b("quad",function(a){return a*a}),sin:b("sin",Math.sin),sinh:b("sinh",d),unit:b("unit",function(a){return a/Math.abs(a)})};return e}),b("davinci-blade/Rational",["require","exports","davinci-blade/Unit"],function(a,b,c){function d(a){this.name="RationalError",this.message=a||""}function e(a,b){if("number"==typeof b)return b;throw new d("Argument '"+a+"' must be a number")}function f(a,b){if(b instanceof g)return b;throw new d("Argument '"+b+"' must be a Rational")}d.prototype=new Error;var g=function(){function a(a,b){e("n",a),e("d",b);var c,d=function(a,b){e("a",a),e("b",b);var c;for(0>a&&(a=-a),0>b&&(b=-b),b>a&&(c=a,a=b,b=c);;){if(a%=b,0===a)return b;if(b%=a,0===b)return a}};if(0===b)throw new Error("denominator must not be zero");c=0===a?1:d(Math.abs(a),Math.abs(b)),0>b&&(a=-a,b=-b),this._numer=a/c,this._denom=b/c}return Object.defineProperty(a.prototype,"numer",{get:function(){return this._numer},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"denom",{get:function(){return this._denom},enumerable:!0,configurable:!0}),a.prototype.add=function(b){return f("rhs",b),new a(this._numer*b._denom+this._denom*b._numer,this._denom*b._denom)},a.prototype.sub=function(b){return f("rhs",b),new a(this._numer*b._denom-this._denom*b._numer,this._denom*b._denom)},a.prototype.mul=function(b){return f("rhs",b),new a(this._numer*b._numer,this._denom*b._denom)},a.prototype.div=function(b){return"number"==typeof b?new a(this._numer,this._denom*b):new a(this._numer*b._denom,this._denom*b._numer)},a.prototype.isZero=function(){return 0===this._numer},a.prototype.negative=function(){return new a(-this._numer,this._denom)},a.prototype.equals=function(b){return b instanceof a?this._numer*b._denom===this._denom*b._numer:!1},a.prototype.toString=function(){return""+this._numer+"/"+this._denom},a.ONE=new a(1,1),a.TWO=new a(2,1),a.MINUS_ONE=new a(-1,1),a.ZERO=new a(0,1),a}();return g}),b("davinci-blade/Dimensions",["require","exports","davinci-blade/Rational"],function(a,b,c){function d(a){this.name="DimensionError",this.message=a||""}d.prototype=new Error;var e=function(){function a(a,b,d,e,f,g,h){this.L=b,this.T=d,this.Q=e,this.temperature=f,this.amount=g,this.intensity=h;var i=b,j=d,k=e;if(7!==arguments.length)throw{name:"DimensionError",message:"Expecting 7 arguments"};if("number"==typeof a)this._mass=new c(a,1);else{if(!(a instanceof c))throw{name:"DimensionError",message:"mass must be a Rational or number"};this._mass=a}if("number"==typeof i)this.L=new c(i,1);else{if(!(i instanceof c))throw{name:"DimensionError",message:"length must be a Rational or number"};this.L=i}if("number"==typeof j)this.T=new c(j,1);else{if(!(j instanceof c))throw{name:"DimensionError",message:"time must be a Rational or number"};this.T=j}if("number"==typeof k)this.Q=new c(k,1);else{if(!(k instanceof c))throw{name:"DimensionError",message:"charge must be a Rational or number"};this.Q=k}if("number"==typeof f)this.temperature=new c(f,1);else{if(!(f instanceof c))throw{name:"DimensionError",message:"(thermodynamic) temperature must be a Rational or number"};this.temperature=f}if("number"==typeof g)this.amount=new c(g,1);else{if(!(g instanceof c))throw{name:"DimensionError",message:"amount (of substance) must be a Rational or number"};this.amount=g}if("number"==typeof h)this.intensity=new c(h,1);else{if(!(h instanceof c))throw{name:"DimensionError",message:"(luminous) intensity must be a Rational or number"};this.intensity=h}}return Object.defineProperty(a.prototype,"M",{get:function(){return this._mass},enumerable:!0,configurable:!0}),a.prototype.compatible=function(a){if(this._mass.equals(a._mass)&&this.L.equals(a.L)&&this.T.equals(a.T)&&this.Q.equals(a.Q)&&this.temperature.equals(a.temperature)&&this.amount.equals(a.amount)&&this.intensity.equals(a.intensity))return this;throw new d("Dimensions must be equal ("+this+", "+a+")")},a.prototype.mul=function(b){return new a(this._mass.add(b._mass),this.L.add(b.L),this.T.add(b.T),this.Q.add(b.Q),this.temperature.add(b.temperature),this.amount.add(b.amount),this.intensity.add(b.intensity))},a.prototype.div=function(b){return new a(this._mass.sub(b._mass),this.L.sub(b.L),this.T.sub(b.T),this.Q.sub(b.Q),this.temperature.sub(b.temperature),this.amount.sub(b.amount),this.intensity.sub(b.intensity))},a.prototype.pow=function(b){return new a(this._mass.mul(b),this.L.mul(b),this.T.mul(b),this.Q.mul(b),this.temperature.mul(b),this.amount.mul(b),this.intensity.mul(b))},a.prototype.sqrt=function(){return new a(this._mass.div(c.TWO),this.L.div(c.TWO),this.T.div(c.TWO),this.Q.div(c.TWO),this.temperature.div(c.TWO),this.amount.div(c.TWO),this.intensity.div(c.TWO))},a.prototype.dimensionless=function(){return this._mass.isZero()&&this.L.isZero()&&this.T.isZero()&&this.Q.isZero()&&this.temperature.isZero()&&this.amount.isZero()&&this.intensity.isZero()},a.prototype.isZero=function(){return this._mass.isZero()&&this.L.isZero()&&this.T.isZero()&&this.Q.isZero()&&this.temperature.isZero()&&this.amount.isZero()&&this.intensity.isZero()},a.prototype.negative=function(){return new a(this._mass.negative(),this.L.negative(),this.T.negative(),this.Q.negative(),this.temperature.negative(),this.amount.negative(),this.intensity.negative())},a.prototype.toString=function(){var a=function(a,b){return 0===a.numer?null:1===a.denom?1===a.numer?""+b:""+b+" ** "+a.numer:""+b+" ** "+a};return[a(this._mass,"mass"),a(this.L,"length"),a(this.T,"time"),a(this.Q,"charge"),a(this.temperature,"thermodynamic temperature"),a(this.amount,"amount of substance"),a(this.intensity,"luminous intensity")].filter(function(a){return"string"==typeof a}).join(" * ")},a}();return e}),b("davinci-blade/Unit",["require","exports","davinci-blade/Dimensions","davinci-blade/Rational"],function(a,b,c,d){function e(a){this.name="UnitError",this.message=a||""}function f(a,b){if("number"==typeof b)return b;throw new e("Argument '"+a+"' must be a number")}function g(a,b){if(b instanceof c)return b;throw new e("Argument '"+b+"' must be a Dimensions")}function h(a,b){if(b instanceof d)return b;throw new e("Argument '"+b+"' must be a Rational")}function i(a,b){if(b instanceof q)return b;throw new e("Argument '"+b+"' must be a Unit")}function j(a,b){return new q(a.scale+b.scale,a.dimensions.compatible(b.dimensions),a.labels)}function k(a,b){return new q(a.scale-b.scale,a.dimensions.compatible(b.dimensions),a.labels)}function l(a,b){return new q(a.scale*b.scale,a.dimensions.mul(b.dimensions),a.labels)}function m(a,b){return new q(a*b.scale,b.dimensions,b.labels)}function n(a,b){return new q(a.scale/b.scale,a.dimensions.div(b.dimensions),a.labels)}e.prototype=new Error;var o=function(a,b,c){f("scale",a),g("dimensions",b);var d,e,h,i=function(a,b){return 0===a.numer?null:1===a.denom?1===a.numer?""+b:""+b+" ** "+a.numer:""+b+" ** "+a};return d=1===a||b.isZero()?"":" ",e=1===a?"":""+a,h=[i(b.M,c[0]),i(b.L,c[1]),i(b.T,c[2]),i(b.Q,c[3]),i(b.temperature,c[4]),i(b.amount,c[5]),i(b.intensity,c[6])].filter(function(a){return"string"==typeof a}).join(" "),""+e+d+h},p=function(a,b,c){for(var d=[[-1,1,-3,1,2,1,2,1,0,1,0,1,0,1],[-1,1,-2,1,1,1,2,1,0,1,0,1,0,1],[-1,1,-2,1,2,1,2,1,0,1,0,1,0,1],[-1,1,3,1,-2,1,0,1,0,1,0,1,0,1],[0,1,0,1,-1,1,0,1,0,1,0,1,0,1],[0,1,0,1,-1,1,1,1,0,1,0,1,0,1],[0,1,1,1,-2,1,0,1,0,1,0,1,0,1],[0,1,1,1,-1,1,0,1,0,1,0,1,0,1],[1,1,1,1,-1,1,0,1,0,1,0,1,0,1],[1,1,-1,1,-2,1,0,1,0,1,0,1,0,1],[1,1,-1,1,-1,1,0,1,0,1,0,1,0,1],[1,1,0,1,-3,1,0,1,0,1,0,1,0,1],[1,1,0,1,-2,1,0,1,0,1,0,1,0,1],[1,1,0,1,-1,1,-1,1,0,1,0,1,0,1],[1,1,1,1,-3,1,0,1,-1,1,0,1,0,1],[1,1,1,1,-2,1,-1,1,0,1,0,1,0,1],[1,1,1,1,-2,1,0,1,0,1,0,1,0,1],[1,1,1,1,0,1,-2,1,0,1,0,1,0,1],[1,1,2,1,-2,1,0,1,-1,1,0,1,0,1],[0,1,2,1,-2,1,0,1,-1,1,0,1,0,1],[1,1,2,1,-2,1,0,1,-1,1,-1,1,0,1],[1,1,2,1,-2,1,0,1,0,1,-1,1,0,1],[1,1,2,1,-2,1,0,1,0,1,0,1,0,1],[1,1,2,1,-1,1,0,1,0,1,0,1,0,1],[1,1,2,1,-3,1,0,1,0,1,0,1,0,1],[1,1,2,1,-2,1,-1,1,0,1,0,1,0,1],[1,1,2,1,-1,1,-2,1,0,1,0,1,0,1],[1,1,2,1,0,1,-2,1,0,1,0,1,0,1],[1,1,2,1,-1,1,-1,1,0,1,0,1,0,1]],e=[["F/m"],["S"],["F"],["N·m ** 2/kg ** 2"],["Hz"],["A"],["m/s ** 2"],["m/s"],["kg·m/s"],["Pa"],["Pa·s"],["W/m ** 2"],["N/m"],["T"],["W/(m·K)"],["V/m"],["N"],["H/m"],["J/K"],["J/(kg·K)"],["J/(mol·K)"],["J/mol"],["J"],["J·s"],["W"],["V"],["Ω"],["H"],["Wb"]],f=b.M,g=b.L,h=b.T,i=b.Q,j=b.temperature,k=b.amount,l=b.intensity,m=0,n=d.length;n>m;m++){var p=d[m];if(f.numer===p[0]&&f.denom===p[1]&&g.numer===p[2]&&g.denom===p[3]&&h.numer===p[4]&&h.denom===p[5]&&i.numer===p[6]&&i.denom===p[7]&&j.numer===p[8]&&j.denom===p[9]&&k.numer===p[10]&&k.denom===p[11]&&l.numer===p[12]&&l.denom===p[13])return 1!==a?a+" * "+e[m][0]:e[m][0]}return o(a,b,c)},q=function(){function a(a,b,c){if(this.scale=a,this.dimensions=b,this.labels=c,7!==c.length)throw new Error("Expecting 7 elements in the labels array.");this.scale=a,this.dimensions=b,this.labels=c}return a.prototype.compatible=function(b){if(b instanceof a)return this.dimensions.compatible(b.dimensions),this;throw new Error("Illegal Argument for Unit.compatible: "+b)},a.prototype.add=function(a){return i("rhs",a),j(this,a)},a.prototype.__add__=function(b){return b instanceof a?j(this,b):void 0},a.prototype.__radd__=function(b){return b instanceof a?j(b,this):void 0},a.prototype.sub=function(a){return i("rhs",a),k(this,a)},a.prototype.__sub__=function(b){return b instanceof a?k(this,b):void 0},a.prototype.__rsub__=function(b){return b instanceof a?k(b,this):void 0},a.prototype.mul=function(a){return i("rhs",a),l(this,a)},a.prototype.__mul__=function(b){return b instanceof a?l(this,b):"number"==typeof b?m(b,this):void 0},a.prototype.__rmul__=function(b){return b instanceof a?l(b,this):"number"==typeof b?m(b,this):void 0},a.prototype.div=function(a){return i("rhs",a),n(this,a)},a.prototype.__div__=function(b){return b instanceof a?n(this,b):"number"==typeof b?new a(this.scale/b,this.dimensions,this.labels):void 0},a.prototype.__rdiv__=function(b){return b instanceof a?n(b,this):"number"==typeof b?new a(b/this.scale,this.dimensions.negative(),this.labels):void 0},a.prototype.pow=function(b){return h("q",b),new a(Math.pow(this.scale,b.numer/b.denom),this.dimensions.pow(b),this.labels)},a.prototype.inverse=function(){return new a(1/this.scale,this.dimensions.negative(),this.labels)},a.prototype.norm=function(){return new a(Math.abs(this.scale),this.dimensions,this.labels)},a.prototype.quad=function(){return new a(this.scale*this.scale,this.dimensions.mul(this.dimensions),this.labels)},a.prototype.toString=function(){return p(this.scale,this.dimensions,this.labels)},a.isUnity=function(b){if("undefined"==typeof b)return!0;if(b instanceof a)return b.dimensions.dimensionless();throw new Error("isUnity argument must be a Unit or undefined.")},a.assertDimensionless=function(b){if(!a.isUnity(b))throw new e("uom must be dimensionless.")},a.compatible=function(b,c){return b instanceof a&&c instanceof a?b.compatible(c):void 0},a.mul=function(b,c){return b instanceof a?c instanceof a?b.mul(c):a.isUnity(c)?b:void 0:a.isUnity(b)?c:void 0},a.div=function(b,c){return b instanceof a?c instanceof a?b.div(c):b:c instanceof a?c.inverse():void 0},a.sqrt=function(b){if("undefined"==typeof b){if(b instanceof a)return new a(Math.sqrt(b.scale),b.dimensions.sqrt(),b.labels);throw new Error("uom must be a Unit.")}return void 0},a}();return q}),b("davinci-blade/Euclidean1",["require","exports","davinci-blade/Unit"],function(a,b,c){function d(a){this.name="Euclidean1Error",this.message=a||""}function e(a,b){if("number"==typeof b)return b;throw new d("Argument '"+a+"' must be a number")}function f(a,b){if(b instanceof h)return b;throw new d("Argument '"+b+"' must be a Euclidean1")}function g(a,b){if("undefined"==typeof b||b instanceof c)return b;throw new d("Argument '"+b+"' must be a Unit or undefined")}d.prototype=new Error;var h=function(){function a(a,b,d){if(this.w=e("w",a),this.x=e("x",b),this.uom=g("uom",d),this.uom&&1!==this.uom.scale){var f=this.uom.scale;this.w*=f,this.x*=f,this.uom=new c(1,d.dimensions,d.labels)}}return a.prototype.coordinates=function(){return[this.w,this.x]},a.prototype.add=function(b){return f("rhs",b),new a(this.w+b.w,this.x+b.x,c.compatible(this.uom,b.uom))},a.prototype.sub=function(b){return f("rhs",b),new a(this.w-b.w,this.x-b.x,c.compatible(this.uom,b.uom))},a.prototype.wedge=function(){throw new d("wedge")},a.prototype.lshift=function(){throw new d("lshift")},a.prototype.rshift=function(){throw new d("rshift")},a.prototype.exp=function(){throw new d("exp")},a.prototype.norm=function(){return new a(Math.sqrt(this.w*this.w+this.x*this.x),0,this.uom)},a.prototype.quad=function(){return new a(this.w*this.w+this.x*this.x,0,c.mul(this.uom,this.uom))},a.prototype.unit=function(){throw new d("unit")},a.prototype.toExponential=function(){return"Euclidean1"},a.prototype.toFixed=function(){return"Euclidean1"},a.prototype.toString=function(){return"Euclidean1"},a}();return h}),b("davinci-blade/Euclidean2",["require","exports","davinci-blade/Unit"],function(a,b,c){function d(a){this.name="Euclidean2Error",this.message=a||""}function e(a,b){if("number"==typeof b)return b;throw new d("Argument '"+a+"' must be a number")}function f(a,b){if(b instanceof s)return b;throw new d("Argument '"+b+"' must be a Euclidean2")}function g(a,b){if("undefined"==typeof b||b instanceof c)return b;throw new d("Argument '"+b+"' must be a Unit or undefined")}function h(a,b,c,d,e,f,g,h){return a=+a,b=+b,c=+c,d=+d,e=+e,f=+f,g=+g,h=+h,+(a+e)}function i(a,b,c,d,e,f,g,h){return a=+a,b=+b,c=+c,d=+d,e=+e,f=+f,g=+g,h=+h,+(b+f)}function j(a,b,c,d,e,f,g,h){return a=+a,b=+b,c=+c,d=+d,e=+e,f=+f,g=+g,h=+h,+(c+g)}function k(a,b,c,d,e,f,g,h){return a=+a,b=+b,c=+c,d=+d,e=+e,f=+f,g=+g,h=+h,+(d+h)}function l(a,b,c,d,e,f,g,h,i){a=+a,b=+b,c=+c,d=+d,e=+e,f=+f,g=+g,h=+h,i=0|i;var j=0;switch(~~i){case 0:j=+(a-e);break;case 1:j=+(b-f);break;case 2:j=+(c-g);break;case 3:j=+(d-h);break;default:throw new Error("index must be in the range [0..3]")}return+j}function m(a,b,c,d,e,f,g,h,i){a=+a,b=+b,c=+c,d=+d,e=+e,f=+f,g=+g,h=+h,i=0|i;var j=0;switch(~~i){case 0:j=+(a*e+b*f+c*g-d*h);break;case 1:j=+(a*f+b*e-c*h+d*g);break;case 2:j=+(a*g+b*h+c*e-d*f);break;case 3:j=+(a*h+b*g-c*f+d*e);break;default:throw new Error("index must be in the range [0..3]")}return+j}function n(a,b,c,d,e,f,g,h,i){a=+a,b=+b,c=+c,d=+d,e=+e,f=+f,g=+g,h=+h,i=0|i;var j=0;switch(~~i){case 0:j=+(a*e);break;case 1:j=+(a*f+b*e);break;case 2:j=+(a*g+c*e);break;case 3:j=+(a*h+b*g-c*f+d*e);break;default:throw new Error("index must be in the range [0..3]")}return+j}function o(a,b,c,d,e,f,g,h,i){a=+a,b=+b,c=+c,d=+d,e=+e,f=+f,g=+g,h=+h,i=0|i;var j=0;switch(~~i){case 0:j=+(a*e+b*f+c*g-d*h);break;case 1:j=+(a*f-c*h);break;case 2:j=+(a*g+b*h);break;case 3:j=+(a*h);break;default:throw new Error("index must be in the range [0..3]")}return+j}function p(a,b,c,d,e,f,g,h,i){a=+a,b=+b,c=+c,d=+d,e=+e,f=+f,g=+g,h=+h,i=0|i;var j=0;switch(~~i){case 0:j=+(a*e+b*f+c*g-d*h);break;case 1:j=+(-b*e-d*g);break;case 2:j=+(-c*e+d*f);break;case 3:j=+(d*e);break;default:throw new Error("index must be in the range [0..3]")}return+j}function q(a,b,c){var d,e,f,g,h=[],i=function(a,c){var d;0!==a&&(a>=0?h.length>0&&h.push("+"):h.push("-"),d=Math.abs(a),1===d?h.push(c):(h.push(b(d)),"1"!==c&&(h.push("*"),h.push(c))))};for(d=e=0,f=a.length-1;f>=0?f>=e:e>=f;d=f>=0?++e:--e)i(a[d],c[d]);return g=h.length>0?h.join(""):"0"}d.prototype=new Error;var r=function(a,b,c,d,e,g,h,i,j,k){var l,m,n,o,p,q,r,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K;return z=+e,A=+g,B=+h,C=-i,v=e*z+g*A+h*B-i*C,w=0,x=0,y=0,l=+v,m=-w,n=-x,o=-y,D=z*l+A*m+B*n-C*o,E=z*m+A*l-B*o+C*n,F=z*n+A*o+B*l-C*m,G=z*o+A*n-B*m+C*l,u=e*D+g*E+h*F-i*G,p=D/u,q=E/u,r=F/u,t=G/u,H=a*p+b*q+c*r-d*t,I=a*q+b*p-c*t+d*r,J=a*r+b*t+c*p-d*q,K=a*t+b*r-c*q+d*p,"undefined"==typeof k?new s(H,I,J,K,j):(f("m",k),k.w=H,k.x=I,k.y=J,k.xy=K,k.uom=j,void 0)},s=function(){function a(a,b,d,f,h){if(this.w=e("w",a),this.x=e("x",b),this.y=e("y",d),this.xy=e("xy",f),this.uom=g("uom",h),this.uom&&1!==this.uom.scale){var i=this.uom.scale;this.w*=i,this.x*=i,this.y*=i,this.xy*=i,this.uom=new c(1,h.dimensions,h.labels)}}return a.prototype.fromCartesian=function(b,c,d,f,h){return e("w",b),e("x",c),e("y",d),e("xy",f),g("uom",h),new a(b,c,d,f,h)},a.prototype.fromPolar=function(b,c,d,f,h){return e("w",b),e("r",c),e("theta",d),e("s",f),g("uom",h),new a(b,c*Math.cos(d),c*Math.sin(d),f,h)},a.prototype.coordinates=function(){return[this.w,this.x,this.y,this.xy]},a.prototype.coordinate=function(a){switch(e("index",a),a){case 0:return this.w;case 1:return this.x;case 2:return this.y;case 3:return this.xy;default:throw new d("index must be in the range [0..3]")}},a.add=function(a,b){var c=a[0],d=a[1],e=a[2],f=a[3],g=b[0],l=b[1],m=b[2],n=b[3],o=h(c,d,e,f,g,l,m,n),p=i(c,d,e,f,g,l,m,n),q=j(c,d,e,f,g,l,m,n),r=k(c,d,e,f,g,l,m,n);return[o,p,q,r]},a.prototype.add=function(b){f("rhs",b);var d=a.add(this.coordinates(),b.coordinates());return new a(d[0],d[1],d[2],d[3],c.compatible(this.uom,b.uom))},a.prototype.__add__=function(b){return b instanceof a?this.add(b):"number"==typeof b?this.add(new a(b,0,0,0,void 0)):void 0},a.prototype.__radd__=function(b){return b instanceof a?b.add(this):"number"==typeof b?new a(b,0,0,0,void 0).add(this):void 0},a.sub=function(a,b){var c=a[0],d=a[1],e=a[2],f=a[3],g=b[0],h=b[1],i=b[2],j=b[3],k=l(c,d,e,f,g,h,i,j,0),m=l(c,d,e,f,g,h,i,j,1),n=l(c,d,e,f,g,h,i,j,2),o=l(c,d,e,f,g,h,i,j,3);return[k,m,n,o]},a.prototype.sub=function(b){f("rhs",b);var d=a.sub(this.coordinates(),b.coordinates());return new a(d[0],d[1],d[2],d[3],c.compatible(this.uom,b.uom))},a.prototype.__sub__=function(b){return b instanceof a?this.sub(b):"number"==typeof b?this.sub(new a(b,0,0,0,void 0)):void 0},a.prototype.__rsub__=function(b){return b instanceof a?b.sub(this):"number"==typeof b?new a(b,0,0,0,void 0).sub(this):void 0},a.mul=function(a,b){var c=a[0],d=a[1],e=a[2],f=a[3],g=b[0],h=b[1],i=b[2],j=b[3],k=m(c,d,e,f,g,h,i,j,0),l=m(c,d,e,f,g,h,i,j,1),n=m(c,d,e,f,g,h,i,j,2),o=m(c,d,e,f,g,h,i,j,3);return[k,l,n,o]},a.prototype.mul=function(b){f("rhs",b);var d=a.mul(this.coordinates(),b.coordinates());return new a(d[0],d[1],d[2],d[3],c.mul(this.uom,b.uom))},a.prototype.__mul__=function(b){if(b instanceof a)return this.mul(b);if("number"==typeof b){var c=b;return this.mul(new a(c,0,0,0,void 0))}},a.prototype.__rmul__=function(b){if(b instanceof a){var c=b;return c.mul(this)}if("number"==typeof b){var d=b;return new a(d,0,0,0,void 0).mul(this)}},a.prototype.scalarMultiply=function(b){return new a(this.w*b,this.x*b,this.y*b,this.xy*b,this.uom)},a.prototype.div=function(a){return f("rhs",a),r(this.w,this.x,this.y,this.xy,a.w,a.x,a.y,a.xy,c.div(this.uom,a.uom),void 0)},a.prototype.__div__=function(b){if(b instanceof a)return this.div(b);if("number"==typeof b){var c=b;return this.div(new a(c,0,0,0,void 0))}},a.prototype.__rdiv__=function(b){if(b instanceof a){var c=b;return c.div(this)}if("number"==typeof b){var d=b;return new a(d,0,0,0,void 0).div(this)}},a.splat=function(a,b){var c=a[0],d=a[1],e=a[2],f=a[3],g=b[0],h=b[1],i=b[2],j=b[3],k=c*g+d*h+e*i-f*j,l=0,m=0,n=0;return[k,l,m,n]},a.prototype.splat=function(b){f("rhs",b);var d=a.splat(this.coordinates(),b.coordinates());return new a(d[0],d[1],d[2],d[3],c.mul(this.uom,b.uom))},a.wedge=function(a,b){var c=a[0],d=a[1],e=a[2],f=a[3],g=b[0],h=b[1],i=b[2],j=b[3],k=n(c,d,e,f,g,h,i,j,0),l=n(c,d,e,f,g,h,i,j,1),m=n(c,d,e,f,g,h,i,j,2),o=n(c,d,e,f,g,h,i,j,3);return[k,l,m,o]},a.prototype.wedge=function(b){f("rhs",b);var d=a.wedge(this.coordinates(),b.coordinates());return new a(d[0],d[1],d[2],d[3],c.mul(this.uom,b.uom))},a.prototype.__wedge__=function(b){if(b instanceof a){var c=b;return this.wedge(c)}if("number"==typeof b){var d=b;return this.wedge(new a(d,0,0,0,void 0))}},a.prototype.__rwedge__=function(b){if(b instanceof a){var c=b;return c.wedge(this)}if("number"==typeof b){var d=b;return new a(d,0,0,0,void 0).wedge(this)}},a.lshift=function(a,b){var c=a[0],d=a[1],e=a[2],f=a[3],g=b[0],h=b[1],i=b[2],j=b[3],k=o(c,d,e,f,g,h,i,j,0),l=o(c,d,e,f,g,h,i,j,1),m=o(c,d,e,f,g,h,i,j,2),n=o(c,d,e,f,g,h,i,j,3);return[k,l,m,n]},a.prototype.lshift=function(b){f("rhs",b);var d=a.lshift(this.coordinates(),b.coordinates());return new a(d[0],d[1],d[2],d[3],c.mul(this.uom,b.uom))},a.prototype.__lshift__=function(b){if(b instanceof a){var c=b;return this.lshift(c)}if("number"==typeof b){var d=b;return this.lshift(new a(d,0,0,0,void 0))}},a.prototype.__rlshift__=function(b){if(b instanceof a){var c=b;return c.lshift(this)}if("number"==typeof b){var d=b;return new a(d,0,0,0,void 0).lshift(this)}},a.rshift=function(a,b){var c=a[0],d=a[1],e=a[2],f=a[3],g=b[0],h=b[1],i=b[2],j=b[3],k=p(c,d,e,f,g,h,i,j,0),l=p(c,d,e,f,g,h,i,j,1),m=p(c,d,e,f,g,h,i,j,2),n=p(c,d,e,f,g,h,i,j,3);return[k,l,m,n]},a.prototype.rshift=function(b){f("rhs",b);var d=a.rshift(this.coordinates(),b.coordinates());return new a(d[0],d[1],d[2],d[3],c.mul(this.uom,b.uom))},a.prototype.__rshift__=function(b){return b instanceof a?this.rshift(b):"number"==typeof b?this.rshift(new a(b,0,0,0,void 0)):void 0},a.prototype.__rrshift__=function(b){return b instanceof a?b.rshift(this):"number"==typeof b?new a(b,0,0,0,void 0).rshift(this):void 0},a.prototype.__vbar__=function(b){return b instanceof a?this.splat(b):"number"==typeof b?this.splat(new a(b,0,0,0,void 0)):void 0},a.prototype.__rvbar__=function(b){return b instanceof a?b.splat(this):"number"==typeof b?new a(b,0,0,0,void 0).splat(this):void 0},a.prototype.__pos__=function(){return this},a.prototype.__neg__=function(){return new a(-this.w,-this.x,-this.y,-this.xy,this.uom)},a.prototype.__tilde__=function(){return new a(this.w,this.x,this.y,-this.xy,this.uom)},a.prototype.grade=function(b){switch(e("index",b),b){case 0:return new a(this.w,0,0,0,this.uom);case 1:return new a(0,this.x,this.y,0,this.uom);case 2:return new a(0,0,0,this.xy,this.uom);default:return new a(0,0,0,0,this.uom)}},a.prototype.exp=function(){c.assertDimensionless(this.uom);var b=Math.exp(this.w),d=Math.cos(this.xy),e=Math.sin(this.xy);return new a(b*d,0,0,b*e,this.uom)},a.prototype.norm=function(){return new a(Math.sqrt(this.w*this.w+this.x*this.x+this.y*this.y+this.xy*this.xy),0,0,0,this.uom)},a.prototype.quad=function(){return new a(this.w*this.w+this.x*this.x+this.y*this.y+this.xy*this.xy,0,0,0,c.mul(this.uom,this.uom))},a.prototype.unit=function(){throw new d("unit")},a.prototype.isNaN=function(){return isNaN(this.w)||isNaN(this.x)||isNaN(this.y)||isNaN(this.xy)},a.prototype.toStringCustom=function(a,b){var c=q(this.coordinates(),a,b);if(this.uom){var d=this.uom.toString().trim();return d?c+" "+d:c}return c},a.prototype.toExponential=function(){var a=function(a){return a.toExponential()};return this.toStringCustom(a,["1","e1","e2","e12"])},a.prototype.toFixed=function(a){var b=function(b){return b.toFixed(a)};return this.toStringCustom(b,["1","e1","e2","e12"])},a.prototype.toString=function(){var a=function(a){return a.toString()};return this.toStringCustom(a,["1","e1","e2","e12"])},a.prototype.toStringIJK=function(){var a=function(a){return a.toString()};return this.toStringCustom(a,["1","i","j","I"])},a.prototype.toStringLATEX=function(){var a=function(a){return a.toString()};return this.toStringCustom(a,["1","e_{1}","e_{2}","e_{12}"])},a}();return s}),b("davinci-blade/Euclidean3",["require","exports","davinci-blade/Unit"],function(a,b,c){function d(a){this.name="Euclidean3Error",this.message=a||""}function e(a,b){if("number"==typeof b)return b;throw new d("Argument '"+a+"' must be a number")}function f(a,b){if(b instanceof r)return b;throw new d("Argument '"+b+"' must be a Euclidean3")}function g(a,b){if("undefined"==typeof b||b instanceof c)return b;throw new d("Argument '"+b+"' must be a Unit or undefined")}function h(a,b,c,d,e,f){var g=d(b,0),h=d(b,1),i=d(b,2),j=d(b,3),k=d(b,4),l=d(b,5),m=d(b,6),n=d(b,7),o=d(c,0),p=d(c,1),q=d(c,2),r=d(c,3),s=d(c,4),t=d(c,5),u=d(c,6),v=d(c,7),w=a(g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,0),x=a(g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,1),y=a(g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,2),z=a(g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,3),A=a(g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,4),B=a(g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,5),C=a(g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,6),D=a(g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,7);return e(w,x,y,z,A,B,C,D,f)}function i(a,b,c,e,f,g,h,i,j,k,l,m,n,o,p,q,r){a=+a,b=+b,c=+c,e=+e,f=+f,g=+g,h=+h,i=+i,j=+j,k=+k,l=+l,m=+m,n=+n,o=+o,p=+p,q=+q,r=0|r;var s=0;switch(~~r){case 0:s=+(a+j);break;case 1:s=+(b+k);break;case 2:s=+(c+l);break;case 3:s=+(e+m);break;case 4:s=+(f+n);break;case 5:s=+(g+o);break;case 6:s=+(h+p);break;case 7:s=+(i+q);break;default:throw new d("index must be in the range [0..7]")}return+s}function j(a,b,c,e,f,g,h,i,j,k,l,m,n,o,p,q,r){a=+a,b=+b,c=+c,e=+e,f=+f,g=+g,h=+h,i=+i,j=+j,k=+k,l=+l,m=+m,n=+n,o=+o,p=+p,q=+q,r=0|r;var s=0;switch(~~r){case 0:s=+(a-j);break;case 1:s=+(b-k);break;case 2:s=+(c-l);break;case 3:s=+(e-m);break;case 4:s=+(f-n);break;case 5:s=+(g-o);break;case 6:s=+(h-p);break;case 7:s=+(i-q);break;default:throw new d("index must be in the range [0..7]")}return+s}function k(a,b,c,e,f,g,h,i,j,k,l,m,n,o,p,q,r){a=+a,b=+b,c=+c,e=+e,f=+f,g=+g,h=+h,i=+i,j=+j,k=+k,l=+l,m=+m,n=+n,o=+o,p=+p,q=+q,r=0|r;var s=0;switch(~~r){case 0:s=+(a*j+b*k+c*l+e*m-f*n-g*o-h*p-i*q);break;case 1:s=+(a*k+b*j-c*n+e*p+f*l-g*q-h*m-i*o);break;case 2:s=+(a*l+b*n+c*j-e*o-f*k+g*m-h*q-i*p);break;case 3:s=+(a*m-b*p+c*o+e*j-f*q-g*l+h*k-i*n);break;case 4:s=+(a*n+b*l-c*k+e*q+f*j-g*p+h*o+i*m);break;case 5:s=+(a*o+b*q+c*m-e*l+f*p+g*j-h*n+i*k);break;case 6:s=+(a*p-b*m+c*q+e*k-f*o+g*n+h*j+i*l);break;case 7:s=+(a*q+b*o+c*p+e*n+f*m+g*k+h*l+i*j);break;default:throw new d("index must be in the range [0..7]")}return+s}function l(a,b,c,e,f,g,h,i,j,k,l,m,n,o,p,q,r){a=+a,b=+b,c=+c,e=+e,f=+f,g=+g,h=+h,i=+i,j=+j,k=+k,l=+l,m=+m,n=+n,o=+o,p=+p,q=+q,r=0|r;var s=0;switch(~~r){case 0:s=+(a*j+b*k+c*l+e*m-f*n-g*o-h*p-i*q);break;case 1:s=0;break;case 2:s=0;break;case 3:s=0;break;case 4:s=0;break;case 5:s=0;break;case 6:s=0;break;case 7:s=0;break;default:throw new d("index must be in the range [0..7]")}return+s}function m(a,b,c,e,f,g,h,i,j,k,l,m,n,o,p,q,r){a=+a,b=+b,c=+c,e=+e,f=+f,g=+g,h=+h,i=+i,j=+j,k=+k,l=+l,m=+m,n=+n,o=+o,p=+p,q=+q,r=0|r;var s=0;switch(~~r){case 0:s=+(a*j);break;case 1:s=+(a*k+b*j);break;case 2:s=+(a*l+c*j);break;case 3:s=+(a*m+e*j);break;case 4:s=+(a*n+b*l-c*k+f*j);break;case 5:s=+(a*o+c*m-e*l+g*j);break;case 6:s=+(a*p-b*m+e*k+h*j);break;case 7:s=+(a*q+b*o+c*p+e*n+f*m+g*k+h*l+i*j);break;default:throw new d("index must be in the range [0..7]")}return+s}function n(a,b,c,e,f,g,h,i,j,k,l,m,n,o,p,q,r){a=+a,b=+b,c=+c,e=+e,f=+f,g=+g,h=+h,i=+i,j=+j,k=+k,l=+l,m=+m,n=+n,o=+o,p=+p,q=+q,r=0|r;var s=0;switch(~~r){case 0:s=+(a*j+b*k+c*l+e*m-f*n-g*o-h*p-i*q);break;case 1:s=+(a*k-c*n+e*p-g*q);break;case 2:s=+(a*l+b*n-e*o-h*q);break;case 3:s=+(a*m-b*p+c*o-f*q);break;case 4:s=+(a*n+e*q);break;case 5:s=+(a*o+b*q);break;case 6:s=+(a*p+c*q);break;case 7:s=+(a*q);break;default:throw new d("index must be in the range [0..7]")}return+s}function o(a,b,c,e,f,g,h,i,j,k,l,m,n,o,p,q,r){a=+a,b=+b,c=+c,e=+e,f=+f,g=+g,h=+h,i=+i,j=+j,k=+k,l=+l,m=+m,n=+n,o=+o,p=+p,q=+q,r=0|r;var s=0;switch(~~r){case 0:s=+(a*j+b*k+c*l+e*m-f*n-g*o-h*p-i*q);break;case 1:s=+(+b*j+f*l-h*m-i*o);break;case 2:s=+(+c*j-f*k+g*m-i*p);break;case 3:s=+(+e*j-g*l+h*k-i*n);break;case 4:s=+(+f*j+i*m);break;case 5:s=+(+g*j+i*k);break;case 6:s=+(+h*j+i*l);break;case 7:s=+(+i*j);break;default:throw new d("index must be in the range [0..7]")}return+s}function p(a,b,c){var d,e,f,g,h=[],i=function(a,c){var d;0!==a&&(a>=0?h.length>0&&h.push("+"):h.push("-"),d=Math.abs(a),1===d?h.push(c):(h.push(b(d)),"1"!==c&&(h.push("*"),h.push(c))))};for(d=e=0,f=a.length-1;f>=0?f>=e:e>=f;d=f>=0?++e:--e)i(a[d],c[d]);return g=h.length>0?h.join(""):"0"}d.prototype=new Error;var q=function(a,b,c,d,e,f,g,h,i,j,l,m,n,o,p,q,s,t){var u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa,qa,ra,sa,ta,ua,va,wa;return T=+i,U=+j,V=+l,W=-m,X=+n,Y=-o,Z=-p,$=-q,L=k(i,j,l,n,m,p,-o,q,T,U,V,X,W,Z,-Y,$,0),M=k(i,j,l,n,m,p,-o,q,T,U,V,X,W,Z,-Y,$,1),N=k(i,j,l,n,m,p,-o,q,T,U,V,X,W,Z,-Y,$,2),O=0,P=k(i,j,l,n,m,p,-o,q,T,U,V,X,W,Z,-Y,$,3),Q=0,R=0,S=0,u=+L,v=-M,w=-N,x=-O,y=-P,z=-Q,A=-R,B=+S,_=k(T,U,V,X,W,Z,-Y,$,u,v,w,y,x,A,-z,B,0),aa=k(T,U,V,X,W,Z,-Y,$,u,v,w,y,x,A,-z,B,1),ba=k(T,U,V,X,W,Z,-Y,$,u,v,w,y,x,A,-z,B,2),ca=k(T,U,V,X,W,Z,-Y,$,u,v,w,y,x,A,-z,B,4),da=k(T,U,V,X,W,Z,-Y,$,u,v,w,y,x,A,-z,B,3),ea=-k(T,U,V,X,W,Z,-Y,$,u,v,w,y,x,A,-z,B,6),fa=k(T,U,V,X,W,Z,-Y,$,u,v,w,y,x,A,-z,B,5),ga=k(T,U,V,X,W,Z,-Y,$,u,v,w,y,x,A,-z,B,7),K=k(i,j,l,n,m,p,-o,q,_,aa,ba,da,ca,fa,-ea,ga,0),C=_/K,D=aa/K,E=ba/K,F=ca/K,G=da/K,H=ea/K,I=fa/K,J=ga/K,
ja=k(a,b,c,e,d,g,-f,h,C,D,E,G,F,I,-H,J,0),ka=k(a,b,c,e,d,g,-f,h,C,D,E,G,F,I,-H,J,1),la=k(a,b,c,e,d,g,-f,h,C,D,E,G,F,I,-H,J,2),ma=k(a,b,c,e,d,g,-f,h,C,D,E,G,F,I,-H,J,4),na=k(a,b,c,e,d,g,-f,h,C,D,E,G,F,I,-H,J,3),oa=-k(a,b,c,e,d,g,-f,h,C,D,E,G,F,I,-H,J,6),pa=k(a,b,c,e,d,g,-f,h,C,D,E,G,F,I,-H,J,5),qa=k(a,b,c,e,d,g,-f,h,C,D,E,G,F,I,-H,J,7),ha=ja,ia=ka,ta=la,va=na,ra=ma,ua=pa,wa=-oa,sa=qa,"undefined"==typeof t?new r(ha,ia,ta,va,ra,ua,wa,sa,s):(t.w=ha,t.x=ia,t.y=ta,t.z=va,t.xy=ra,t.yz=ua,t.zx=wa,t.xyz=sa,t.uom=s,void 0)},r=function(){function a(a,b,d,f,h,i,j,k,l){if(this.w=e("w",a),this.x=e("x",b),this.y=e("y",d),this.z=e("z",f),this.xy=e("xy",h),this.yz=e("yz",i),this.zx=e("zx",j),this.xyz=e("xyz",k),this.uom=g("uom",l),this.uom&&1!==this.uom.scale){var m=this.uom.scale;this.w*=m,this.x*=m,this.y*=m,this.z*=m,this.xy*=m,this.yz*=m,this.zx*=m,this.xyz*=m,this.uom=new c(1,l.dimensions,l.labels)}}return a.fromCartesian=function(b,c,d,f,h,i,j,k,l){return e("w",b),e("x",c),e("y",d),e("z",f),e("xy",h),e("yz",i),e("zx",j),e("xyz",k),g("uom",l),new a(b,c,d,f,h,i,j,k,l)},a.prototype.coordinates=function(){return[this.w,this.x,this.y,this.z,this.xy,this.yz,this.zx,this.xyz]},a.prototype.coordinate=function(a){switch(e("index",a),a){case 0:return this.w;case 1:return this.x;case 2:return this.y;case 3:return this.z;case 4:return this.xy;case 5:return this.yz;case 6:return this.zx;case 7:return this.xyz;default:throw new d("index must be in the range [0..7]")}},a.prototype.add=function(b){var d=function(a,b){return a[b]},e=function(b,c,d,e,f,g,h,i,j){return a.fromCartesian(b,c,d,e,f,g,h,i,j)};return h(i,this.coordinates(),b.coordinates(),d,e,c.compatible(this.uom,b.uom))},a.prototype.__add__=function(b){return b instanceof a?this.add(b):"number"==typeof b?this.add(new a(b,0,0,0,0,0,0,0,void 0)):void 0},a.prototype.__radd__=function(b){return b instanceof a?b.add(this):"number"==typeof b?new a(b,0,0,0,0,0,0,0,void 0).add(this):void 0},a.prototype.sub=function(b){var d=function(a,b){return a[b]},e=function(b,c,d,e,f,g,h,i,j){return a.fromCartesian(b,c,d,e,f,g,h,i,j)};return h(j,this.coordinates(),b.coordinates(),d,e,c.compatible(this.uom,b.uom))},a.prototype.__sub__=function(b){return b instanceof a?this.sub(b):"number"==typeof b?this.sub(new a(b,0,0,0,0,0,0,0,void 0)):void 0},a.prototype.__rsub__=function(b){return b instanceof a?b.sub(this):"number"==typeof b?new a(b,0,0,0,0,0,0,0,void 0).sub(this):void 0},a.prototype.mul=function(b){if("number"==typeof b)return this.scalarMultiply(b);var d=function(a,b){return a[b]},e=function(b,c,d,e,f,g,h,i,j){return a.fromCartesian(b,c,d,e,f,g,h,i,j)};return h(k,this.coordinates(),b.coordinates(),d,e,c.mul(this.uom,b.uom))},a.prototype.__mul__=function(b){return b instanceof a?this.mul(b):"number"==typeof b?this.mul(new a(b,0,0,0,0,0,0,0,void 0)):void 0},a.prototype.__rmul__=function(b){return b instanceof a?b.mul(this):"number"==typeof b?new a(b,0,0,0,0,0,0,0,void 0).mul(this):void 0},a.prototype.scalarMultiply=function(b){return new a(this.w*b,this.x*b,this.y*b,this.z*b,this.xy*b,this.yz*b,this.zx*b,this.xyz*b,this.uom)},a.prototype.div=function(a){return f("rhs",a),q(this.w,this.x,this.y,this.xy,this.z,-this.zx,this.yz,this.xyz,a.w,a.x,a.y,a.xy,a.z,-a.zx,a.yz,a.xyz,c.div(this.uom,a.uom))},a.prototype.__div__=function(b){return b instanceof a?this.div(b):"number"==typeof b?this.div(new a(b,0,0,0,0,0,0,0,void 0)):void 0},a.prototype.__rdiv__=function(b){return b instanceof a?b.div(this):"number"==typeof b?new a(b,0,0,0,0,0,0,0,void 0).div(this):void 0},a.prototype.splat=function(b){var d=function(a,b){return a[b]},e=function(b,c,d,e,f,g,h,i,j){return a.fromCartesian(b,c,d,e,f,g,h,i,j)};return h(l,this.coordinates(),b.coordinates(),d,e,c.mul(this.uom,b.uom))},a.prototype.wedge=function(b){var d=function(a,b){return a[b]},e=function(b,c,d,e,f,g,h,i,j){return a.fromCartesian(b,c,d,e,f,g,h,i,j)};return h(m,this.coordinates(),b.coordinates(),d,e,c.mul(this.uom,b.uom))},a.prototype.__vbar__=function(b){return b instanceof a?this.splat(b):"number"==typeof b?this.splat(new a(b,0,0,0,0,0,0,0,void 0)):void 0},a.prototype.__rvbar__=function(b){return b instanceof a?b.splat(this):"number"==typeof b?new a(b,0,0,0,0,0,0,0,void 0).splat(this):void 0},a.prototype.__wedge__=function(b){return b instanceof a?this.wedge(b):"number"==typeof b?this.wedge(new a(b,0,0,0,0,0,0,0,void 0)):void 0},a.prototype.__rwedge__=function(b){return b instanceof a?b.wedge(this):"number"==typeof b?new a(b,0,0,0,0,0,0,0,void 0).wedge(this):void 0},a.prototype.lshift=function(b){var d=function(a,b){return a[b]},e=function(b,c,d,e,f,g,h,i,j){return a.fromCartesian(b,c,d,e,f,g,h,i,j)};return h(n,this.coordinates(),b.coordinates(),d,e,c.mul(this.uom,b.uom))},a.prototype.__lshift__=function(b){return b instanceof a?this.lshift(b):"number"==typeof b?this.lshift(new a(b,0,0,0,0,0,0,0,void 0)):void 0},a.prototype.__rlshift__=function(b){return b instanceof a?b.lshift(this):"number"==typeof b?new a(b,0,0,0,0,0,0,0,void 0).lshift(this):void 0},a.prototype.rshift=function(b){var d=function(a,b){return a[b]},e=function(b,c,d,e,f,g,h,i,j){return a.fromCartesian(b,c,d,e,f,g,h,i,j)};return h(o,[this.w,this.x,this.y,this.z,this.xy,this.yz,this.zx,this.xyz],[b.w,b.x,b.y,b.z,b.xy,b.yz,b.zx,b.xyz],d,e,c.mul(this.uom,b.uom))},a.prototype.__rshift__=function(b){return b instanceof a?this.rshift(b):"number"==typeof b?this.rshift(new a(b,0,0,0,0,0,0,0,void 0)):void 0},a.prototype.__rrshift__=function(b){return b instanceof a?b.rshift(this):"number"==typeof b?new a(b,0,0,0,0,0,0,0,void 0).rshift(this):void 0},a.prototype.__pos__=function(){return this},a.prototype.__neg__=function(){return new a(-this.w,-this.x,-this.y,-this.z,-this.xy,-this.yz,-this.zx,-this.xyz,this.uom)},a.prototype.__tilde__=function(){return new a(this.w,this.x,this.y,this.z,-this.xy,-this.yz,-this.zx,-this.xyz,this.uom)},a.prototype.grade=function(b){switch(e("index",b),b){case 0:return a.fromCartesian(this.w,0,0,0,0,0,0,0,this.uom);case 1:return a.fromCartesian(0,this.x,this.y,this.z,0,0,0,0,this.uom);case 2:return a.fromCartesian(0,0,0,0,this.xy,this.yz,this.zx,0,this.uom);case 3:return a.fromCartesian(0,0,0,0,0,0,0,this.xyz,this.uom);default:return a.fromCartesian(0,0,0,0,0,0,0,0,this.uom)}},a.prototype.dot=function(a){return this.x*a.x+this.y*a.y+this.z*a.z},a.prototype.cross=function(b){var d,e,f,g,h,i,j,k,l;return e=this.x,h=this.y,k=this.z,f=b.x,i=b.y,l=b.z,d=h*l-k*i,g=k*f-e*l,j=e*i-h*f,new a(0,d,g,j,0,0,0,0,c.mul(this.uom,b.uom))},a.prototype.length=function(){return Math.sqrt(this.w*this.w+this.x*this.x+this.y*this.y+this.z*this.z+this.xy*this.xy+this.yz*this.yz+this.zx*this.zx+this.xyz*this.xyz)},a.prototype.exp=function(){throw new d("exp")},a.prototype.norm=function(){return new a(Math.sqrt(this.w*this.w+this.x*this.x+this.y*this.y+this.z*this.z+this.xy*this.xy+this.yz*this.yz+this.zx*this.zx+this.xyz*this.xyz),0,0,0,0,0,0,0,this.uom)},a.prototype.quad=function(){return new a(this.w*this.w+this.x*this.x+this.y*this.y+this.z*this.z+this.xy*this.xy+this.yz*this.yz+this.zx*this.zx+this.xyz*this.xyz,0,0,0,0,0,0,0,c.mul(this.uom,this.uom))},a.prototype.unit=function(){throw new d("unit")},a.prototype.sqrt=function(){return new a(Math.sqrt(this.w),0,0,0,0,0,0,0,c.sqrt(this.uom))},a.prototype.toStringCustom=function(a,b){var c=p(this.coordinates(),a,b);if(this.uom){var d=this.uom.toString().trim();return d?c+" "+d:c}return c},a.prototype.toExponential=function(){var a=function(a){return a.toExponential()};return this.toStringCustom(a,["1","e1","e2","e3","e12","e23","e31","e123"])},a.prototype.toFixed=function(a){e("digits",a);var b=function(b){return b.toFixed(a)};return this.toStringCustom(b,["1","e1","e2","e3","e12","e23","e31","e123"])},a.prototype.toString=function(){var a=function(a){return a.toString()};return this.toStringCustom(a,["1","e1","e2","e3","e12","e23","e31","e123"])},a.prototype.toStringIJK=function(){var a=function(a){return a.toString()};return this.toStringCustom(a,["1","i","j","k","ij","jk","ki","I"])},a.prototype.toStringLATEX=function(){var a=function(a){return a.toString()};return this.toStringCustom(a,["1","e_{1}","e_{2}","e_{3}","e_{12}","e_{23}","e_{31}","e_{123}"])},a}();return r}),b("davinci-blade/Complex",["require","exports","davinci-blade/Unit"],function(a,b,c){function d(a){this.name="ComplexError",this.message=a||""}function e(a,b){if("number"==typeof b)return b;throw new d("Argument '"+a+"' must be a number")}function f(a,b){if(b instanceof j)return b;throw new d("Argument '"+b+"' must be a Complex")}function g(a,b){if("undefined"==typeof b||b instanceof c)return b;throw new d("Argument '"+b+"' must be a Unit or undefined")}function h(a,b){f("a",a),f("b",b);var d=b.x*b.x+b.y*b.y,e=(a.x*b.x+a.y*b.y)/d,g=(a.y*b.x-a.x*b.y)/d;return new j(e,g,c.div(a.uom,b.uom))}function i(a,b){return Math.sqrt(a*a+b*b)}d.prototype=new Error;var j=function(){function a(a,b,d){if(this.x=e("x",a),this.y=e("y",b),this.uom=g("uom",d),this.uom&&1!==this.uom.scale){var f=this.uom.scale;this.x*=f,this.y*=f,this.uom=new c(1,d.dimensions,d.labels)}}return a.prototype.coordinates=function(){return[this.x,this.y]},a.prototype.add=function(b){return f("rhs",b),new a(this.x+b.x,this.y+b.y,c.compatible(this.uom,b.uom))},a.prototype.__add__=function(b){return b instanceof a?this.add(b):"number"==typeof b?new a(this.x+b,this.y,c.compatible(this.uom,void 0)):void 0},a.prototype.__radd__=function(b){if(b instanceof a){var d=b;return new a(b.x+this.x,b.y+this.y,c.compatible(d.uom,this.uom))}if("number"==typeof b){var e=b;return new a(e+this.x,this.y,c.compatible(void 0,this.uom))}},a.prototype.sub=function(b){return f("rhs",b),new a(this.x-b.x,this.y-b.y,c.compatible(this.uom,b.uom))},a.prototype.__sub__=function(b){if(b instanceof a){var d=b;return new a(this.x-d.x,this.y-d.y,c.compatible(this.uom,d.uom))}if("number"==typeof b){var e=b;return new a(this.x-e,this.y,c.compatible(this.uom,void 0))}},a.prototype.__rsub__=function(b){if(b instanceof a){var d=b;return new a(d.x-this.x,d.y-this.y,c.compatible(d.uom,this.uom))}if("number"==typeof b){var e=b;return new a(e-this.x,-this.y,c.compatible(void 0,this.uom))}},a.prototype.__mul__=function(b){if(b instanceof a){var d=b;return new a(this.x*d.x-this.y*d.y,this.x*d.y+this.y*d.x,c.mul(this.uom,d.uom))}if("number"==typeof b){var e=b;return new a(this.x*e,this.y*e,this.uom)}},a.prototype.__rmul__=function(b){if(b instanceof a){var d=b;return new a(d.x*this.x-d.y*this.y,d.x*this.y+d.y*this.x,c.mul(d.uom,this.uom))}if("number"==typeof b){var e=b;return new a(e*this.x,e*this.y,this.uom)}},a.prototype.__div__=function(b){return b instanceof a?h(this,b):"number"==typeof b?new a(this.x/b,this.y/b,this.uom):void 0},a.prototype.__rdiv__=function(b){return b instanceof a?h(b,this):"number"==typeof b?h(new a(b,0),this):void 0},a.prototype.wedge=function(){throw new d("wedge")},a.prototype.lshift=function(){throw new d("lshift")},a.prototype.rshift=function(){throw new d("rshift")},a.prototype.exp=function(){c.assertDimensionless(this.uom);var b=Math.exp(this.x),d=b*Math.cos(this.y),e=b*Math.sin(this.y);return new a(d,e)},a.prototype.norm=function(){return new a(Math.sqrt(this.x*this.x+this.y*this.y),0,this.uom)},a.prototype.quad=function(){return new a(this.x*this.x+this.y*this.y,0,c.mul(this.uom,this.uom))},a.prototype.unit=function(){var b=i(this.x,this.y);return new a(this.x/b,this.y/b)},a.prototype.arg=function(){return Math.atan2(this.y,this.x)},a.prototype.toStringCustom=function(a){var b="Complex("+a(this.x)+", "+a(this.y)+")";if(this.uom){var c=this.uom.toString().trim();return c?b+" "+c:b}return b},a.prototype.toExponential=function(){return this.toStringCustom(function(a){return a.toExponential()})},a.prototype.toFixed=function(a){return this.toStringCustom(function(b){return b.toFixed(a)})},a.prototype.toString=function(){return this.toStringCustom(function(a){return a.toString()})},a}();return j}),b("davinci-blade/Color",["require","exports"],function(){var a=function(){function a(a,b,c){this._red=a,this._green=b,this._blue=c}return a.prototype.luminance=function(){return a.luminance(this._red,this._green,this._blue)},a.prototype.toString=function(){return"Color("+this._red+", "+this._green+", "+this._blue+")"},a.prototype.asFillStyle=function(){return"rgb("+Math.floor(255*this._red)+", "+Math.floor(255*this._green)+", "+Math.floor(255*this._blue)+")"},a.luminance=function(a,b,c){var d=2.2;return.2126*Math.pow(a,d)+.7152*Math.pow(b,d)+.0722*Math.pow(c,d)},a.fromHSL=function(b,c,d){function e(a){return a>2*Math.PI?e(a-2*Math.PI):0>a?e(a+2*Math.PI):a}function f(b,c,e){var f=(a.luminance(b,c,e),d-.5*g);return new a(b+f,c+f,e+f)}var g=(1-Math.abs(2*d-1))*c,h=e(b)/Math.PI*3%6,i=g*(1-Math.abs(h%2-1));return h>=0&&1>h?f(g,i,0):h>=1&&2>h?f(i,g,0):h>=2&&3>h?f(0,g,g*(h-2)):h>=3&&4>h?f(0,g*(4-h),g):h>=4&&5>h?f(i,0,g):h>=5&&6>h?f(g,0,i):f(0,0,0)},a}();return a}),b("davinci-blade/e2ga/scalarE2",["require","exports","davinci-blade/Euclidean2"],function(a,b,c){var d=function(a,b){return new c(a,0,0,0,b)};return d}),b("davinci-blade/e2ga/vectorE2",["require","exports","davinci-blade/Euclidean2"],function(a,b,c){var d=function(a,b,d){return new c(0,a,b,0,d)};return d}),b("davinci-blade/e3ga/scalarE3",["require","exports","davinci-blade/Euclidean3"],function(a,b,c){var d=function(a,b){return new c(a,0,0,0,0,0,0,0,b)};return d}),b("davinci-blade/e3ga/vectorE3",["require","exports","davinci-blade/Euclidean3"],function(a,b,c){var d=function(a,b,d,e){return new c(0,a,b,d,0,0,0,0,e)};return d}),b("davinci-blade/e3ga/bivectorE3",["require","exports","davinci-blade/Euclidean3"],function(a,b,c){var d=function(a,b,d,e){return new c(0,0,0,0,a,b,d,0,e)};return d}),b("davinci-blade",["require","exports","davinci-blade/core","davinci-blade/Euclidean1","davinci-blade/Euclidean2","davinci-blade/Euclidean3","davinci-blade/Rational","davinci-blade/Dimensions","davinci-blade/Unit","davinci-blade/Complex","davinci-blade/Color","davinci-blade/e2ga/scalarE2","davinci-blade/e2ga/vectorE2","davinci-blade/e3ga/scalarE3","davinci-blade/e3ga/vectorE3","davinci-blade/e3ga/bivectorE3"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){var q=["kg","m","s","C","K","mol","cd"],r=g.ZERO,s=g.ONE,t=g.MINUS_ONE,u=new i(1,new h(r,r,r,r,r,r,r),q),v=new i(1,new h(s,r,r,r,r,r,r),q),w=new i(1,new h(r,s,r,r,r,r,r),q),x=new i(1,new h(r,r,s,r,r,r,r),q),y=new i(1,new h(r,r,t,s,r,r,r),q),z=new i(1,new h(r,r,r,r,s,r,r),q),A=new i(1,new h(r,r,r,r,r,s,r),q),B=new i(1,new h(r,r,r,r,r,r,s),q),C=new i(1,new h(r,r,r,s,r,r,r),q),D=new i(.0254,new h(r,s,r,r,r,r,r),q),E=new i(.3048,new h(r,s,r,r,r,r,r),q),F=new i(.9144,new h(r,s,r,r,r,r,r),q),G=new i(1609.344,new h(r,s,r,r,r,r,r),q),H=new i(.45359237,new h(s,r,r,r,r,r,r),q),I=w.mul(v).div(x.mul(x)),J=I.mul(w),K=J.div(x),L=J.div(C),M=L.mul(x),N=M.div(w.mul(w)),O=L.div(y),P=y.div(L),Q=C.div(L),R=N.mul(w.mul(w)).div(y),S=u.div(x),T=I.div(w.mul(w)),U={VERSION:c.VERSION,universals:{cos:c.cos,cosh:c.cosh,exp:c.exp,norm:c.norm,quad:c.quad,sin:c.sin,sinh:c.sinh,unit:c.unit},Color:k,Complex:j,Euclidean1:d,Euclidean2:e,Euclidean3:f,scalarE3:n,vectorE3:o,bivectorE3:p,Rational:g,Dimensions:h,Unit:i,e2ga:{e1:m(1,0),e2:m(0,1),units:{ampere:l(1,y),candela:l(1,B),coulomb:l(1,C),farad:l(1,Q),foot:l(1,E),henry:l(1,R),hertz:l(1,S),inch:l(1,D),joule:l(1,J),kelvin:l(1,z),kilogram:l(1,v),meter:l(1,w),mile:l(1,G),mole:l(1,A),newton:l(1,I),ohm:l(1,O),pascal:l(1,T),pound:l(1,H),second:l(1,x),siemen:l(1,P),tesla:l(1,N),unity:l(1,u),volt:l(1,L),watt:l(1,K),weber:l(1,M),yard:l(1,F)}},e3ga:{e1:o(1,0,0),e2:o(0,1,0),e3:o(0,0,1),units:{ampere:n(1,y),candela:n(1,B),coulomb:n(1,C),farad:n(1,Q),foot:n(1,E),henry:n(1,R),hertz:n(1,S),inch:n(1,D),joule:n(1,J),kelvin:n(1,z),kilogram:n(1,v),meter:n(1,w),mile:n(1,G),mole:n(1,A),newton:n(1,I),ohm:n(1,O),pascal:n(1,T),pound:n(1,H),second:n(1,x),siemen:n(1,P),tesla:n(1,N),unity:n(1,u),volt:n(1,L),watt:n(1,K),weber:n(1,M),yard:n(1,F)}},units:{ampere:y,candela:B,coulomb:C,farad:Q,foot:E,henry:R,hertz:S,inch:D,joule:J,kelvin:z,kilogram:v,meter:w,mile:G,mole:A,newton:I,ohm:O,pascal:T,pound:H,second:x,siemen:P,tesla:N,unity:u,volt:L,watt:K,weber:M,yard:F}};return U});var f=d("davinci-blade");"undefined"!=typeof module&&module.exports?module.exports=f:e?!function(a){a(function(){return f})}(e):a.blade=f}(this);